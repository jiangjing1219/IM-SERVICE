{"version":3,"file":"js/app.7911282c.js","mappings":"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","sources":["webpack://my-web-im/./src/App.vue","webpack://my-web-im/./src/App.vue?7ccd","webpack://my-web-im/./src/listener/index.ts","webpack://my-web-im/./src/views/login/Login.vue","webpack://my-web-im/./src/views/login/Login.vue?9557","webpack://my-web-im/./src/router/index.ts","webpack://my-web-im/./src/store/index.ts","webpack://my-web-im/./src/main.ts","webpack://my-web-im/./src/store/contactsList.ts","webpack://my-web-im/./src/store/conversationSet.ts","webpack://my-web-im/./src/store/friendRequestList.ts","webpack://my-web-im/./src/store/messageRecord.ts","webpack://my-web-im/./src/store/userInfo.ts","webpack://my-web-im/webpack/bootstrap","webpack://my-web-im/webpack/runtime/chunk loaded","webpack://my-web-im/webpack/runtime/compat get default export","webpack://my-web-im/webpack/runtime/define property getters","webpack://my-web-im/webpack/runtime/ensure chunk","webpack://my-web-im/webpack/runtime/get javascript chunk filename","webpack://my-web-im/webpack/runtime/get mini-css chunk filename","webpack://my-web-im/webpack/runtime/global","webpack://my-web-im/webpack/runtime/hasOwnProperty shorthand","webpack://my-web-im/webpack/runtime/load script","webpack://my-web-im/webpack/runtime/make namespace object","webpack://my-web-im/webpack/runtime/publicPath","webpack://my-web-im/webpack/runtime/css loading","webpack://my-web-im/webpack/runtime/jsonp chunk loading","webpack://my-web-im/webpack/startup"],"sourcesContent":["<template>\r\n  <router-view/>\r\n</template>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\nnav {\r\n  padding: 30px;\r\n}\r\n\r\nnav a {\r\n  font-weight: bold;\r\n  color: #2c3e50;\r\n}\r\n\r\nnav a.router-link-exact-active {\r\n  color: #42b983;\r\n}\r\n</style>\r\n","import { render } from \"./App.vue?vue&type=template&id=8f008e3e\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=8f008e3e&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { useMessageRecordStore } from '@/store/messageRecord';\r\nimport { useFriendRequestStore } from '@/store/friendRequestList';\r\nimport { Conversation, ImFriendShipRequest } from '@/types';\r\nimport { useConcatListStore } from '@/store/contactsList';\r\nimport { useUserInfoStore } from '@/store/userInfo';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\nimport { Action, ElMessageBox } from 'element-plus';\r\n\r\nconst ListenerMap = () => {\r\n  const friendRequestStore = useFriendRequestStore();\r\n  const messageRecordStore = useMessageRecordStore();\r\n  const concatListStore = useConcatListStore();\r\n  const userInfoStore = useUserInfoStore();\r\n  const conversationSetStore = useConversationSetStore();\r\n  return {\r\n    onSocketConnectEvent: (option: never, status: never, data: never) => {\r\n      console.log(`已建立连接:${JSON.stringify(status)}`);\r\n    },\r\n    onSocketErrorEvent: (error: never) => {\r\n      localStorage.removeItem('userInfo');\r\n      window.location.assign('/login');\r\n    },\r\n    onSocketReConnectEvent: () => {\r\n      console.log('正在重连:');\r\n    },\r\n    onSocketCloseEvent: () => {\r\n      if (window.location.pathname !== '/login') {\r\n        // 直接提示或者提示加载中，判断当前路由在哪个页面\r\n        localStorage.removeItem('userInfo');\r\n        ElMessageBox.alert('WebSocket连接已关闭，请重新登录', '', {\r\n          confirmButtonText: 'OK',\r\n          callback: (action: Action) => {\r\n            window.location.assign('/login');\r\n          },\r\n        });\r\n      }\r\n    },\r\n    onSocketReConnectSuccessEvent: () => {\r\n      console.log('重连成功');\r\n    },\r\n    onTestMessage: (e: never) => {\r\n      console.log(`onTestMessage ：${e}`);\r\n    },\r\n    /**\r\n     * 消息发送成功的ack\r\n     * @param e\r\n     */\r\n    onP2PMessageAck: (e: never) => {\r\n      messageRecordStore.onP2PMessageAck(JSON.parse(e).data.data);\r\n    },\r\n    /**\r\n     * 接收端接收到消息\r\n     * {\r\n     *     \"toId\": \"311968820887553\", 自身 id\r\n     *     \"messageKey\": 368116557152257,\r\n     *     \"serverSend\": true,\r\n     *     \"messageSequence\": 647,\r\n     *     \"fromId\": \"312144459464705\"  好友id\r\n     * }\r\n     * @param e\r\n     */\r\n    onP2PMessageReceiveAck: (e: never) => {\r\n      messageRecordStore.onP2PMessageReceiveAck(JSON.parse(e).data);\r\n    },\r\n    /**\r\n     * 发送的消息对方已读\r\n     * {\r\n     *     \"conversationType\": 0,\r\n     *     \"toId\": \"311968820887553\", 当前用户id\r\n     *     \"messageSequence\": 641,\r\n     *     \"fromId\": \"312144459464705\" 好友id\r\n     * }\r\n     * @param e\r\n     */\r\n    onMessageReadReceipt: (e: never) => {\r\n      // 标识小于当前 messageSequence 的消息都已经已读\r\n      messageRecordStore.onMessageReadReceipt(JSON.parse(e).data);\r\n    },\r\n    /**\r\n     * 好友发送的消息，自身已读同步\r\n     * @param e\r\n     */\r\n    onMessageReadSync: (e: never) => {\r\n      console.log(`onMessageReadSync-自身已读标识同步 ：${e}`);\r\n    },\r\n    /**\r\n     * 自身发送的消息同步\r\n     *\r\n     * @param e\r\n     */\r\n    onP2PMessageSync: (e: never) => {\r\n      const receiveMessage = JSON.parse(e).data;\r\n      const message = {\r\n        isMe: true,\r\n        messageRandom: '',\r\n        messageStatus: 1,\r\n        fromId: receiveMessage.fromId,\r\n        toId: receiveMessage.toId,\r\n        messageKey: receiveMessage.messageKey,\r\n        messageTime: receiveMessage.messageTime,\r\n        clientType: receiveMessage.clientType,\r\n        messageBody: JSON.parse(receiveMessage.messageBody).content,\r\n        messageId: receiveMessage.messageId,\r\n        messageSequence: receiveMessage.messageSequence,\r\n        messageType: 1,\r\n      };\r\n      messageRecordStore.addMessageRecord(message.toId, message);\r\n      console.log('onP2PMessageSync-发送消息的多端同步', JSON.parse(e).data);\r\n    },\r\n    onP2PMessage: (e: any) => {\r\n      const receiveMessage = JSON.parse(e).data;\r\n      console.log('onP2PMessage-接收消息', receiveMessage);\r\n      // 接收到消息直接回复ack\r\n      // eslint-disable-next-line max-len\r\n      window.imsdk.im.sendP2PMessageReceiveAck(receiveMessage.messageKey, receiveMessage.fromId, receiveMessage.messageSequence);\r\n      const message = {\r\n        isMe: false,\r\n        messageRandom: '',\r\n        messageStatus: 1,\r\n        fromId: receiveMessage.fromId,\r\n        toId: receiveMessage.toId,\r\n        messageKey: receiveMessage.messageKey,\r\n        messageTime: receiveMessage.messageTime,\r\n        clientType: receiveMessage.clientType,\r\n        messageBody: JSON.parse(receiveMessage.messageBody).content,\r\n        messageId: receiveMessage.messageId,\r\n        messageSequence: receiveMessage.messageSequence,\r\n        messageType: 1,\r\n      };\r\n      const conversationId = `0_${message.toId}_${message.fromId}`;\r\n      // 判断该会话是否存在，不存在直接创建会话\r\n      if (!conversationSetStore.getConversationById(conversationId)) {\r\n        // 创建一个单聊会话\r\n        const conversation: Conversation = {\r\n          conversationId,\r\n          conversationType: 0,\r\n          appId: 10000,\r\n          fromId: message.toId,\r\n          isMute: 0,\r\n          isTop: 0,\r\n          readedSequence: 0,\r\n          unreadCount: 1,\r\n          sequence: 0,\r\n          toId: message.fromId,\r\n        };\r\n        conversationSetStore.addConversationSet(conversation);\r\n      }\r\n      messageRecordStore.addMessageRecord(message.fromId, message);\r\n      console.log('onP2PMessage接收到消息', message.messageId, message.messageKey);\r\n      // 事件发布   fromId   toID - 自己   会话id\r\n      if (conversationSetStore.currentConversation?.conversationId === conversationId) {\r\n        // 直接回复已读 ack, 后续修改为点击进入聊天框， 如果当前页面是停留在当前好友的聊天页面直接回复已读\r\n        // eslint-disable-next-line max-len\r\n        window.imsdk.im.sendP2PMessageReadAck(message.messageKey, message.fromId, message.messageSequence);\r\n        // 修改会话的 readedSeq\r\n        conversationSetStore.setP2PConversationReadSeq(conversationId, message.messageSequence);\r\n      }\r\n    },\r\n    onMutualLogin: (e: never) => {\r\n      console.log('多端登录限制，当前端下线', e);\r\n    },\r\n    onLogin: (uid: string) => {\r\n      console.log(`用户${uid}登陆sdk成功`);\r\n    },\r\n    onFriendRequest: (e: any) => {\r\n      console.log('收到好友请求', JSON.parse(e).data);\r\n      const friendRequest: ImFriendShipRequest = JSON.parse(e).data;\r\n      friendRequestStore.addFriendShipRequest(friendRequest);\r\n    },\r\n    onFriendRequestApprove: (e: any) => {\r\n      console.log('多端同步，其他端审核了好友申请', JSON.parse(e).data);\r\n      const result = JSON.parse(e).data;\r\n      friendRequestStore.approveFriendRequest(result.id, result.status);\r\n    },\r\n    onFriendRequestRead: (e: any) => {\r\n      console.log('多端同步，其他端已读好友申请', JSON.parse(e).data);\r\n    },\r\n    /**\r\n     * {\r\n     *     \"toId\": \"312144459464705\",  好友id\r\n     *     \"sequence\": 61,\r\n     *     \"addSource\": \"1\",\r\n     *     \"remark\": \"\",\r\n     *     \"fromId\": \"311968820887553\"  自己\r\n     * }\r\n     * @param e\r\n     */\r\n    onAddFriend: (e: any) => {\r\n      console.log('新增好友事件回调', JSON.parse(e).data);\r\n      concatListStore.onAddFriend(JSON.parse(e).data.toId);\r\n    },\r\n    /**\r\n     * 新建群聊事件回调\r\n     *\r\n     * {\r\n     *     \"groupType\": 1,\r\n     *     \"groupId\": \"b5af75d37af049019e0e7b49052038bb\",\r\n     *     \"photo\": \"\",\r\n     *     \"mute\": 0,\r\n     *     \"ownerId\": \"311968820887553\",\r\n     *     \"notification\": \"群公告\",\r\n     *     \"sequence\": 1,\r\n     *     \"groupName\": \"testGroupName\",\r\n     *     \"createTime\": 1718807746543,\r\n     *     \"appId\": 10000,\r\n     *     \"introduction\": \"群简介\",\r\n     *     \"applyJoinType\": 0,\r\n     *     \"status\": 1\r\n     * }\r\n     * @param e\r\n     */\r\n    onCreateGroup: (e: any) => {\r\n      concatListStore.onAddGroup(JSON.parse(e).data);\r\n    },\r\n    /**\r\n     * 接收到群聊消息\r\n     *\r\n     * {\r\n     *     \"messageKey\": 361972954562561,\r\n     *     \"messageTime\": 1718902954000,\r\n     *     \"clientType\": 1,\r\n     *     \"messageBody\": \"{\\\"type\\\":1,\\\"content\\\":\\\"群聊消息1\\\"}\",\r\n     *     \"appId\": 10000,\r\n     *     \"groupId\": \"6427d8a1547c46c3a53ac559cdef7d59\",\r\n     *     \"imei\": \"windows_chrome_127.0.0.0\",\r\n     *     \"messageId\": \"zm4tdg74gi1718902954443\",\r\n     *     \"messageSequence\": 1,\r\n     *     \"fromId\": \"311968820887553\",\r\n     *     \"memberIds\": [\r\n     *         \"311968820887553\",\r\n     *         \"312144459464705\",\r\n     *         \"324431782084609\",\r\n     *         \"331810133245953\"\r\n     *     ]\r\n     * }\r\n     * @param e\r\n     */\r\n    onGroupMessage: (e: any) => {\r\n      const receiveMessage = JSON.parse(e).data;\r\n      receiveMessage.messageBody = JSON.parse(receiveMessage.messageBody).content;\r\n      receiveMessage.isMe = false;\r\n      messageRecordStore.addGroupMessageRecord(receiveMessage.groupId, receiveMessage);\r\n      const conversationId = `1_${userInfoStore.userId}_${receiveMessage.groupId}`;\r\n      // 判断该会话是否存在，不存在直接创建会话\r\n      if (!conversationSetStore.getConversationById(conversationId)) {\r\n        // 创建一个单聊会话\r\n        const conversation: Conversation = {\r\n          conversationId,\r\n          conversationType: 1,\r\n          appId: 10000,\r\n          fromId: userInfoStore.userId,\r\n          isMute: 0,\r\n          isTop: 0,\r\n          readedSequence: 0,\r\n          unreadCount: 1,\r\n          sequence: 0,\r\n          toId: receiveMessage.groupId,\r\n        };\r\n        conversationSetStore.addConversationSet(conversation);\r\n      }\r\n      // 直接发送已读标识\r\n      // eslint-disable-next-line max-len\r\n      window.imsdk.im.senGroupMessageReadAck(receiveMessage.groupId, receiveMessage.fromId, receiveMessage.messageSequence);\r\n    },\r\n    /**\r\n     * {\r\n     *     \"messageKey\": 369381422923777,\r\n     *     \"messageTime\": 1722435586000,\r\n     *     \"clientType\": 1,\r\n     *     \"messageBody\": \"{\\\"type\\\":1,\\\"content\\\":\\\"群聊消息同步\\\"}\",\r\n     *     \"appId\": 10000,\r\n     *     \"groupId\": \"41c5a4f8800c4eceac4851491037290d\",\r\n     *     \"imei\": \"macintosh;_chrome_127.0.0.0\",\r\n     *     \"messageId\": \"1nut7v0ogp1722435586477\",\r\n     *     \"messageSequence\": 4,\r\n     *     \"fromId\": \"311968820887553\",\r\n     *     \"memberIds\": [\r\n     *         \"331813675335681\",\r\n     *         \"312144459464705\",\r\n     *         \"324431782084609\",\r\n     *         \"311968820887553\"\r\n     *     ]\r\n     * }\r\n     * @param e\r\n     */\r\n    onGroupMessageSync: (e: any) => {\r\n      console.log('群聊消息同步', JSON.parse(e).data);\r\n      const receiveMessage = JSON.parse(e).data;\r\n      receiveMessage.messageBody = JSON.parse(receiveMessage.messageBody).content;\r\n      receiveMessage.isMe = true;\r\n      messageRecordStore.addGroupMessageRecord(receiveMessage.groupId, receiveMessage);\r\n    },\r\n    /**\r\n     * {\r\n     *     \"code\": 200,\r\n     *     \"data\": {\r\n     *         \"messageId\": \"zm4tdg74gi1718902954443\",\r\n     *         \"messageSequence\": 1\r\n     *     },\r\n     *     \"message\": \"success\",\r\n     *     \"ok\": true\r\n     * }\r\n     * @param e\r\n     */\r\n    onGroupMessageAck: (e: any) => {\r\n      console.log('接收到发送群聊消息的ack，服务端接收到消息, 可以标识该消息已经发送成功', JSON.parse(e).data);\r\n    },\r\n    /**\r\n     * 其他端在线登录\r\n     * {\r\n     *     \"clientType\": 1,\r\n     *     \"appId\": 10000,\r\n     *     \"client\": [\r\n     *         {\r\n     *             \"brokerId\": 1001,\r\n     *             \"clientType\": 1,\r\n     *             \"appId\": 10000,\r\n     *             \"brokerHost\": \"192.168.1.3\",\r\n     *             \"imei\": \"windows_chrome_126.0.0.0\",\r\n     *             \"connectState\": 1,\r\n     *             \"userId\": \"311968820887553\"\r\n     *         },\r\n     *         {\r\n     *             \"brokerId\": 1001,\r\n     *             \"clientType\": 1,\r\n     *             \"appId\": 10000,\r\n     *             \"brokerHost\": \"192.168.1.3\",\r\n     *             \"imei\": \"windows_chrome_127.0.0.0\",\r\n     *             \"connectState\": 1,\r\n     *             \"userId\": \"311968820887553\"\r\n     *         }\r\n     *     ],\r\n     *     \"imei\": \"windows_chrome_127.0.0.0\",\r\n     *     \"userId\": \"311968820887553\",\r\n     *     \"status\": 1\r\n     * }\r\n     * @param e\r\n     */\r\n    onUserOnlineStatusChangeSync: (e: any) => {\r\n      userInfoStore.onlineStateChange(JSON.parse(e).data);\r\n    },\r\n    /**\r\n     * 其他用户现在状态变更通知\r\n     * {\r\n     *     \"clientType\": 1,\r\n     *     \"appId\": 10000,\r\n     *     \"client\": [\r\n     *         {\r\n     *             \"brokerId\": 1001,\r\n     *             \"clientType\": 1,\r\n     *             \"appId\": 10000,\r\n     *             \"brokerHost\": \"192.168.1.3\",\r\n     *             \"imei\": \"windows_chrome_126.0.0.0\",\r\n     *             \"connectState\": 1,\r\n     *             \"userId\": \"312144459464705\"\r\n     *         }\r\n     *     ],\r\n     *     \"imei\": \"windows_chrome_126.0.0.0\",\r\n     *     \"userId\": \"312144459464705\",\r\n     *     \"status\": 1\r\n     * }\r\n     * @param e\r\n     */\r\n    onUserOnlineStatusChangeNotify: (e: any) => {\r\n      const stateInfo = JSON.parse(e).data;\r\n      concatListStore.onlineStatusChange(stateInfo.userId, stateInfo.status);\r\n    },\r\n    /**\r\n     * 离线消息拉取\r\n     * [\r\n     *     {\r\n     *         \"appId\": 10000,\r\n     *         \"messageKey\": 363781112725505,\r\n     *         \"messageBody\": \"{\\\"type\\\":1,\\\"content\\\":\\\"2\\\"}\",\r\n     *         \"messageTime\": 1719765152000,\r\n     *         \"extra\": null,\r\n     *         \"delFlag\": 0,\r\n     *         \"fromId\": \"311968820887553\",\r\n     *         \"toId\": \"312144459464705\",\r\n     *         \"groupId\": null,\r\n     *         \"messageSequence\": 172,\r\n     *         \"messageRandom\": null,\r\n     *         \"conversationType\": 0,\r\n     *         \"conversationId\": \"0_311968820887553_312144459464705\"\r\n     *     }\r\n     * ]\r\n     * @param messageList\r\n     */\r\n    onOfflineMessage: (messageList: any) => {\r\n      messageRecordStore.dispatcherOfflineMessage(messageList);\r\n    },\r\n  };\r\n};\r\n\r\nexport default ListenerMap;\r\n","<template>\n  <!--  账号输入登录-->\n  <div class=\"content\">\n    <div class=\"left\">\n      <img src=\"../../assets/img2.png\" class=\"people p-animtion\" alt=\"people\">\n      <img src=\"../../assets/img1.png\" class=\"sphere s-animtion\" alt=\"sphere\">\n    </div>\n    <div class=\"right\">\n      <div class=\"top\">\n        <div class=\"top-item\">\n          <span class=\"top-text\" @click=\"tabValue = 1\">登录</span>\n        </div>\n        <div class=\"top-item\">\n          <span class=\"top-text\" @click=\"tabValue = 2\">注册</span>\n        </div>\n      </div>\n      <div class=\"form-wrappepr\" v-if=\"tabValue === 1\">\n        <h1>欢迎使用，IM 服务</h1>\n        <input type=\"text\" class=\"inputs user\" placeholder=\"请输入邮箱或者账号\" v-model=\"userName\">\n        <input type=\"password\" class=\"inputs pwd\" placeholder=\"请输入密码\" v-model=\"password\"  @keydown.enter=\"debouncedSubmit\">\n        <span class=\"tips\">忘记密码</span>\n        <button @click=\"debouncedSubmit\">登陆</button>\n        <div class=\"other-login\">\n          <div class=\"divider\">\n            <span class=\"line\"></span>\n            <span class=\"divider-text\">其他方式登陆</span>\n            <span class=\"line\"></span>\n          </div>\n          <div class=\"other-login-wrapper\">\n            <div class=\"other-login-item\">\n              <img src=\"../../assets/QQ.png\" alt=\"QQ\">\n            </div>\n            <div class=\"other-login-item\">\n              <img src=\"../../assets/WeChat.png\" alt=\"WeChat\">\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"form-wrappepr\" v-if=\"tabValue === 2\">\n        <h1>欢迎注册，IM 账号</h1>\n        <input type=\"text\" class=\"inputs user\" placeholder=\"请输入邮箱或者账号\" v-model=\"userName\">\n        <input type=\"password\" class=\"inputs pwd\" placeholder=\"请输入密码\" v-model=\"password\" @keydown.enter=\"debouncedRegister\">\n        <button @click=\"debouncedRegister\" @keydown.enter=\"debouncedRegister\">注册</button>\n        <div class=\"other-login\">\n          <div class=\"divider\">\n            <span class=\"line\"></span>\n            <span class=\"divider-text\">其他方式注册</span>\n            <span class=\"line\"></span>\n          </div>\n          <div class=\"other-login-wrapper\">\n            <div class=\"other-login-item\">\n              <img src=\"../../assets/QQ.png\" alt=\"QQ\">\n            </div>\n            <div class=\"other-login-item\">\n              <img src=\"../../assets/WeChat.png\" alt=\"WeChat\">\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {\n  ref, inject, watch,\n} from 'vue';\nimport { ElLoading, ElMessage, ElNotification } from 'element-plus';\nimport axios from 'axios';\nimport { debounce } from 'radash';\nimport { useRouter } from 'vue-router';\nimport ListenerMap from '@/listener';\nimport { useUserInfoStore } from '@/store/userInfo';\nimport { useConversationSetStore } from '@/store/conversationSet';\nimport { useConcatListStore } from '@/store/contactsList';\nimport { useFriendRequestStore } from '@/store/friendRequestList';\n\nconst router = useRouter();\nconst ImSdk = inject('ImSdk');\nconst userInfoStore = useUserInfoStore();\nconst conversationSet = useConversationSetStore();\nconst contactsList = useConcatListStore();\nconst friendRequestStore = useFriendRequestStore();\n\nif (!ImSdk) {\n  ElNotification({\n    title: 'Error',\n    message: 'SDK 不可用! 请联系IM服务管理员',\n    type: 'error',\n  });\n  // 可以根据需要进行错误处理或提供默认值\n}\n\nconst userName = ref('jiangjing');\nconst password = ref('123456');\nconst tabValue = ref(1);\n\n/**\n * 登录需要做的初始化信息同步\n */\nconst initial = (userInfo) => {\n  // 设置当前登陆用户的信息\n  userInfoStore.setUserInfo(userInfo);\n  // 同步获取信息\n  conversationSet.syncConversationSet();\n  // 同步好友信息\n  contactsList.syncFriendShipList();\n  // 同步群列表\n  contactsList.syncJoinedGroup();\n  // 同步好友请求\n  friendRequestStore.syncFriendShipRequest();\n};\n\nconst submit = () => {\n  if (!userName.value) {\n    ElMessage.error('请输入用户名!');\n    return;\n  }\n  if (!password.value) {\n    ElMessage.error('请输入密码!');\n    return;\n  }\n\n  const requestData = {\n    userName: userName.value,\n    password: password.value,\n    loginType: 1,\n  };\n  const loading = ElLoading.service({\n    lock: true,\n    text: '登录中，请稍等...',\n    background: 'rgba(0, 0, 0, 0.7)',\n  });\n  axios.post('http://127.0.0.1:8300/v1/login', requestData)\n    .then(({ data }) => {\n      if (data.code === 200) {\n        ElNotification({\n          title: 'Success',\n          message: '业务系统登陆成功！初始化SDK',\n          type: 'success',\n        });\n        const {\n          appId,\n          imUserSign,\n          userId,\n          userSign,\n        } = data.data;\n        ImSdk.init('http://127.0.0.1:8000/v1', appId, userId, imUserSign, ListenerMap(), (sdk) => {\n          // 修改登录状态\n          userInfoStore.onlineState = 1;\n          requestData.userId = userId;\n          localStorage.setItem('userInfo', JSON.stringify(requestData));\n          if (sdk) {\n            ElNotification({\n              title: 'Success',\n              message: 'WebSocket 连接建立成功!',\n              type: 'success',\n            });\n            loading.close();\n            initial(data.data);\n            router.replace({ path: '/main/conversations' });\n          } else {\n            loading.close();\n            ElNotification({\n              title: 'Error',\n              message: 'WebSocket 连接建立失败! 请联系IM服务管理员',\n              type: 'error',\n            });\n          }\n        });\n      } else {\n        loading.close();\n        userInfoStore.onlineState = 0;\n        ElNotification({\n          title: 'Error',\n          message: data.msg || '业务系统登陆失败！请联系业务系统管理员',\n          type: 'error',\n        });\n      }\n    })\n    .catch((error) => {\n      loading.close();\n      userInfoStore.onlineState = 0;\n      ElNotification({\n        title: 'Error',\n        message: '业务系统登陆失败！请联系业务系统管理员2',\n        type: 'error',\n      });\n    });\n};\n\nconst register = () => {\n  if (!userName.value) {\n    ElMessage.error('请输入用户名!');\n    return;\n  }\n  if (!password.value) {\n    ElMessage.error('请输入密码!');\n    return;\n  }\n  const requestData = {\n    userName: userName.value,\n    password: password.value,\n    registerType: 1,\n  };\n  axios.post('http://127.0.0.1:8300/v1/register', requestData).then((data) => {\n    console.log(data);\n    if (data.data.code === 200) {\n      tabValue.value = 1;\n      ElNotification({\n        title: 'Success',\n        message: '账号注册成功，欢迎登录',\n        type: 'success',\n      });\n    } else {\n      ElNotification({\n        title: '失败结果',\n        message: data.data.msg,\n        type: 'error',\n      });\n    }\n  });\n};\nconst debouncedSubmit = debounce({ delay: 1000 }, submit);\nconst debouncedRegister = debounce({ delay: 1000 }, register);\n\nwatch(() => tabValue.value, (newValue) => {\n  if (newValue === 2) {\n    userName.value = '';\n    password.value = '';\n  }\n});\n</script>\n\n<style scoped lang=\"scss\">\n:root {\n  font-size: 15px;\n}\n\nbody {\n  margin: 0;\n  min-height: 100vh;\n  background-color: #abc6f8;\n  background-image: radial-gradient(closest-side, rgb(255, 255, 255), rgba(235, 105, 78, 0)),\n  radial-gradient(closest-side, rgb(250, 203, 203), rgba(243, 11, 164, 0)),\n  radial-gradient(closest-side, rgb(237, 252, 202), rgba(254, 234, 131, 0)),\n  radial-gradient(closest-side, rgb(197, 248, 241), rgba(170, 142, 245, 0)),\n  radial-gradient(closest-side, rgb(206, 200, 243), rgba(248, 192, 147, 0));\n  background-size: 130vmax 130vmax, 80vmax 80vmax, 90vmax 90vmax, 110vmax 110vmax, 90vmax 90vmax;\n  background-position: -80vmax -80vmax, 60vmax -30vmax, 10vmax 10vmax, -30vmax -10vmax, 50vmax 50vmax;\n  background-repeat: no-repeat;\n  animation: 10s movement linear infinite;\n}\n\nbody::after {\n  content: \"\";\n  display: block;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n}\n\n.content {\n  width: 90vw;\n  height: 90vh;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1;\n  border-radius: 30px;\n  background: rgba(255, 255, 255, 0.6);\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  display: flex;\n  // overflow: hidden;\n  .left {\n    flex: 1;\n    position: relative;\n\n    .sphere {\n      position: absolute;\n      left: 30%;\n      width: 90%;\n      z-index: 1;\n      animation: sphereAnimation 2s;\n      animation-fill-mode: forwards;\n      animation-timing-function: ease;\n    }\n\n    .people {\n      position: absolute;\n      left: -50%;\n      top: 20%;\n      width: 70%;\n      // height: 100px;\n      z-index: 2;\n    }\n\n    .p-animtion {\n      animation: peopleAnimation 2s;\n      animation-fill-mode: forwards;\n      animation-timing-function: ease;\n    }\n\n    .p-other-animtion {\n      animation-name: pOtherAnimation; // 动画名称\n      animation-direction: alternate; // 动画在奇数次（1、3、5...）正向播放，在偶数次（2、4、6...）反向播放。\n      animation-timing-function: linear; // 动画执行方式，linear：匀速；ease：先慢再快后慢；ease-in：由慢速开始；ease-out：由慢速结束；ease-in-out：由慢速开始和结束；\n      animation-iteration-count: infinite; //  动画播放次数，infinite：一直播放\n      animation-duration: 3s; // 动画完成时间\n    }\n\n    .s-animtion {\n      animation: sphereAnimation 2s;\n      animation-fill-mode: forwards;\n      animation-timing-function: ease;\n    }\n\n    .s-other-animtion {\n      animation-name: sOtherAnimation; // 动画名称\n      animation-direction: alternate; // 动画在奇数次（1、3、5...）正向播放，在偶数次（2、4、6...）反向播放。\n      animation-timing-function: linear; // 动画执行方式，linear：匀速；ease：先慢再快后慢；ease-in：由慢速开始；ease-out：由慢速结束；ease-in-out：由慢速开始和结束；\n      animation-iteration-count: infinite; //  动画播放次数，infinite：一直播放\n      animation-duration: 3s; // 动画完成时间\n    }\n  }\n\n  .right {\n    flex: 1;\n    position: relative;\n    z-index: 12;\n\n    .top {\n      width: 80%;\n      margin-left: 38px;\n      color: rgb(51, 52, 124);\n      font-size: 30px;\n      font-weight: 600;\n      font-family: \"Century Gothic\", Times, serif;\n      position: absolute;\n      left: 50%;\n      top: 5%;\n      transform: translate(-50%, 0);\n      display: flex;\n      justify-content: space-around;\n\n      .top-item {\n        float: left;\n        width: 150px;\n        height: 40px;\n        line-height: 40px;\n        text-align: center;\n        margin-right: 10px;\n        transition: 0.5s;\n\n        &:hover {\n          border: 0;\n          background-color: #fff;\n          border-radius: 50px;\n          cursor: pointer;\n          box-shadow: -20px 10px 32px 1px rgba(182, 183, 185, 0.37);\n        }\n      }\n    }\n\n    .form-wrappepr {\n      width: 80%;\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      text-align: right;\n\n      h1 {\n        float: left;\n        font-family: \"Century Gothic\", Times, serif;\n        margin: 30px 0;\n        // color: rgb(68,96,241);\n      }\n\n      .inputs {\n        display: block;\n        width: 100%;\n        height: 70px;\n        margin: 30px 0;\n        border-radius: 10px;\n        border: 0;\n        background-color: rgb(210 223 237);\n        color: rgb(80, 82, 84);\n        font-family: \"Century Gothic\", Times, serif;\n        outline: none;\n        padding: 20px;\n        box-sizing: border-box;\n        font-size: 20px;\n      }\n\n      .tips {\n        display: block;\n        margin-top: -15px;\n        color: rgb(160, 170, 182);\n        cursor: pointer;\n      }\n\n      button {\n        width: 100%;\n        height: 50px;\n        background-color: rgb(68, 96, 241);\n        border-radius: 10px;\n        font-size: 15px;\n        color: #fff;\n        border: 0;\n        font-weight: 600;\n        margin: 30px 0;\n        cursor: pointer;\n        box-shadow: -20px 28px 42px 0 rgba(62, 145, 255, 0.37);\n        font-family: \"Century Gothic\", Times, serif;\n      }\n\n      .other-login {\n        .divider {\n          width: 100%;\n          margin: 20px 0;\n          text-align: center;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n\n          .line {\n            display: inline-block;\n            max-width: 35%;\n            width: 35%;\n            flex: 1;\n            height: 1px;\n            background-color: rgb(162, 172, 185);\n          }\n\n          .divider-text {\n            vertical-align: middle;\n            margin: 0px 20px;\n            // line-height: 0px;\n            display: inline-block;\n            width: 150px;\n            color: rgb(162, 172, 185);\n            white-space: normal;\n          }\n        }\n\n        .other-login-wrapper {\n          width: 100%;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n\n          .other-login-item {\n            width: 70px;\n            // border: 1px solid rgb(162, 172, 185);\n            padding: 10px;\n            text-align: center;\n            border-radius: 10px;\n            cursor: pointer;\n            font-weight: 600;\n            color: rgb(51, 49, 116);\n            margin: 0 10px;\n            transition: 0.4s;\n\n            img {\n              width: 40px;\n              height: 40px;\n              vertical-align: middle;\n            }\n\n            span {\n              vertical-align: middle;\n            }\n\n            &:hover {\n              width: 80px;\n              height: 50%;\n              background-color: #fff;\n              border: 0;\n              box-shadow: -20px 10px 32px 1px rgba(182, 183, 185, 0.37);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\n@keyframes movement {\n  0%,\n  100% {\n    background-size: 130vmax 130vmax, 80vmax 80vmax, 90vmax 90vmax, 110vmax 110vmax, 90vmax 90vmax;\n    background-position: -80vmax -80vmax, 60vmax -30vmax, 10vmax 10vmax, -30vmax -10vmax, 50vmax 50vmax;\n  }\n  25% {\n    background-size: 100vmax 100vmax, 90vmax 90vmax, 100vmax 100vmax, 90vmax 90vmax, 60vmax 60vmax;\n    background-position: -60vmax -90vmax, 50vmax -40vmax, 0vmax -20vmax, -40vmax -20vmax, 40vmax 60vmax;\n  }\n  50% {\n    background-size: 80vmax 80vmax, 110vmax 110vmax, 80vmax 80vmax, 60vmax 60vmax, 80vmax 80vmax;\n    background-position: -50vmax -70vmax, 40vmax -30vmax, 10vmax 0vmax, 20vmax 10vmax, 30vmax 70vmax;\n  }\n  75% {\n    background-size: 90vmax 90vmax, 90vmax 90vmax, 100vmax 100vmax, 90vmax 90vmax, 70vmax 70vmax;\n    background-position: -50vmax -40vmax, 50vmax -30vmax, 20vmax 0vmax, -10vmax 10vmax, 40vmax 60vmax;\n  }\n}\n\n@keyframes sphereAnimation {\n  0% {\n    width: 10%;\n  }\n  100% {\n    width: 90%;\n    transform: translate(-30%, 5%);\n  }\n}\n\n@keyframes peopleAnimation {\n  0% {\n    width: 40%;\n  }\n  100% {\n    width: 70%;\n    transform: translate(90%, -10%);\n  }\n}\n\n@keyframes pOtherAnimation {\n  0% {\n    transform: translate(90%, -10%);\n  }\n  100% {\n    transform: translate(90%, -15%);\n  }\n}\n\n@keyframes sOtherAnimation {\n  0% {\n    transform: translate(-30%, 5%);\n  }\n  100% {\n    transform: translate(-30%, 10%);\n  }\n}\n</style>\n","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=dabe93ea&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-dabe93ea\"]])\n\nexport default __exports__","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router';\r\nimport Login from '@/views/login/Login.vue';\r\nimport { ElMessage } from 'element-plus';\r\nimport axios from 'axios';\r\nimport ListenerMap from '@/listener';\r\nimport { useUserInfoStore } from '@/store/userInfo';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\nimport { useConcatListStore } from '@/store/contactsList';\r\nimport { useFriendRequestStore } from '@/store/friendRequestList';\r\n\r\n/**\r\n * 登录需要做的初始化信息同步\r\n */\r\nconst initial = (userInfo: any) => {\r\n  const userInfoStore = useUserInfoStore();\r\n  const conversationSet = useConversationSetStore();\r\n  const contactsList = useConcatListStore();\r\n  const friendRequestStore = useFriendRequestStore();\r\n  // 设置当前登陆用户的信息\r\n  userInfoStore.setUserInfo(userInfo);\r\n  // 同步获取信息\r\n  conversationSet.syncConversationSet();\r\n  // 同步好友信息\r\n  contactsList.syncFriendShipList();\r\n  // 同步群列表\r\n  contactsList.syncJoinedGroup();\r\n  // 同步好友请求\r\n  friendRequestStore.syncFriendShipRequest();\r\n};\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n  {\r\n    path: '/',\r\n    name: 'home',\r\n    redirect: '/login',\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'login',\r\n    component: Login,\r\n  },\r\n  {\r\n    path: '/main',\r\n    component: () => import('@/views/Main.vue'),\r\n    redirect: '/main/conversations',\r\n    children: [{\r\n      path: 'conversations',\r\n      name: 'conversations',\r\n      component: () => import('@/views/conversationPage/ConversationPage.vue'),\r\n    },\r\n    {\r\n      path: 'contacts',\r\n      name: 'contacts',\r\n      redirect: '/main/contacts/friendRequest',\r\n      component: () => import('@/views/contactPage/ContactPage.vue'),\r\n      children: [{\r\n        path: 'friendRequest',\r\n        name: 'friendRequest',\r\n        component: () => import('@/views/friendRequestPage/FriendRequestPage.vue'),\r\n      },\r\n      {\r\n        path: 'friendDetail',\r\n        name: 'friendDetail',\r\n        component: () => import('@/views/friendDetailPage/friendDetailPage.vue'),\r\n      }],\r\n    }],\r\n  },\r\n];\r\n\r\n// 创建路由器\r\nconst router = createRouter({\r\n  // vue3 要求指定路由器的 工作模式\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n});\r\n\r\n/**\r\n * 全局前置路由守卫（初始化的时候被调用、每次路由切换时被调用）\r\n */\r\nrouter.beforeEach(async (to, from, next) => {\r\n  if (to.name === 'login') {\r\n    // 判断是否已经登录\r\n    const userInfoStr = localStorage.getItem('userInfo');\r\n    if (userInfoStr) {\r\n      const userInfo = JSON.parse(userInfoStr);\r\n      if (userInfo && userInfo.userName && userInfo.password && userInfo.loginType) {\r\n        const result = await axios.post('http://127.0.0.1:8300/v1/login', userInfo);\r\n        if (result.data.code === 200) {\r\n          const {\r\n            appId,\r\n            imUserSign,\r\n            userId,\r\n          } = result.data.data;\r\n          window.imsdk.im.init('http://127.0.0.1:8000/v1', appId, userId, imUserSign, ListenerMap(), (sdk: any) => {\r\n            console.log('初始化成功', sdk);\r\n            const userInfoStore = useUserInfoStore();\r\n            // 修改登录状态\r\n            userInfoStore.onlineState = 1;\r\n            localStorage.setItem('userInfo', JSON.stringify(userInfo));\r\n            if (sdk) {\r\n              initial(result.data.data);\r\n              router.replace({ path: '/main/conversations' });\r\n            } else {\r\n              localStorage.removeItem('userInfo');\r\n            }\r\n          });\r\n        } else {\r\n          localStorage.removeItem('userInfo');\r\n        }\r\n      }\r\n    } else {\r\n      next();\r\n    }\r\n  } else if (window.imsdk?.im?.state === 2) {\r\n    // 需要登录才能查看\r\n    next();\r\n  } else {\r\n    ElMessage({\r\n      type: 'warning',\r\n      message: '请优先登录！',\r\n    });\r\n    next({ name: 'login' });\r\n  }\r\n});\r\n\r\nexport default router;\r\n","import { createStore } from 'vuex';\r\n\r\nexport default createStore({\r\n  state: {\r\n    userInfo: {},\r\n    isLogin: false,\r\n  },\r\n  getters: {\r\n    getUserInfo(state) {\r\n      return state.userInfo;\r\n    },\r\n  },\r\n  mutations: {\r\n    initData(state) {\r\n      state.userInfo = {};\r\n    },\r\n  },\r\n  actions: {\r\n    initData: ({ commit }) => commit('initData'),\r\n  },\r\n  modules: {\r\n  },\r\n});\r\n","import { createApp } from 'vue';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { createPinia } from 'pinia';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport piniaPluginPersist from 'pinia-plugin-persist';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport ElementPlus from 'element-plus';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport Antd from 'ant-design-vue';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport 'element-plus/dist/index.css';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport 'ant-design-vue/dist/reset.css';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport store from './store';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    imsdk?: any;\r\n  }\r\n}\r\n\r\nconst app = createApp(App);\r\nconst pinia = createPinia();\r\npinia.use(piniaPluginPersist);\r\napp.use(pinia); // 确保 Pinia 被初始化\r\napp.use(store); // 确保 Vuex 被初始化\r\napp.use(router); // 确保路由被初始化\r\napp.use(ElementPlus); // 确保 ElementPlus 被初始化\r\napp.use(Antd); // 确保 Antd 被初始化\r\n\r\nif (window.imsdk && window.imsdk.im) {\r\n  app.provide('ImSdk', window.imsdk.im);\r\n}\r\napp.mount('#app');\r\n","// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { defineStore } from 'pinia';\r\nimport {\r\n  Conversation, ImFriendShipEntityList, ImGroupEntity, ImGroupList,\r\n} from '@/types';\r\nimport { LocationQueryValue } from 'vue-router';\r\nimport { useUserInfoStore } from '@/store/userInfo';\r\nimport { ElNotification } from 'element-plus';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\n\r\nconst generateGroupName = (group: ImGroupEntity) => {\r\n  const { memberList } = group;\r\n  // 如果成员列表长度超过4，则只取前4个成员的别名\r\n  const aliasesToShow = memberList.slice(0, memberList.length > 5 ? 5 : memberList.length)\r\n    .map((item) => item.alias);\r\n  return `${aliasesToShow.join('、')}..等${memberList.length}人`; // 使用 join 方法避免手动添加最后一个分隔符的问题\r\n};\r\n/**\r\n * 联系人列表\r\n */\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const useConcatListStore = defineStore('contactsList', {\r\n  state: () => ({\r\n    friendShipList: [] as ImFriendShipEntityList,\r\n    currentContactCarId: 'new_fiend' as string,\r\n    imGroupList: [] as ImGroupList,\r\n  }),\r\n  getters: {\r\n    getFriendShipList(): ImFriendShipEntityList {\r\n      return this.friendShipList;\r\n    },\r\n  },\r\n  actions: {\r\n    getFriendShip(userId: string | null | LocationQueryValue[]) {\r\n      return this.friendShipList.find((item) => item.toId === userId);\r\n    },\r\n    getGroupInfo(groupId: string): ImGroupEntity | undefined {\r\n      return this.imGroupList.find((item) => item.groupId === groupId);\r\n    },\r\n    syncFriendShipList() {\r\n      window.imsdk.im.syncFriendshipList(0, 100)\r\n        .then((res: any) => {\r\n          console.log('同步好友关系列表', res.data);\r\n          // todo 如果数据超过 100 行需要循环拉取\r\n          this.friendShipList = res.data.dataList;\r\n          // 获取好友的在线状态\r\n          window.imsdk.im.queryFriendOnlineStatus()\r\n            .then((result: any) => {\r\n              // 使用 map 方法来创建一个新数组，避免直接修改原数组中的元素\r\n              this.friendShipList = this.friendShipList.map((friend) => {\r\n                const updatedFriend = { ...friend }; // 创建朋友对象的浅拷贝\r\n                if (result.data[friend.toId]) {\r\n                  updatedFriend.onlineStatus = result.data[friend.toId].onlineStatus;\r\n                }\r\n                return updatedFriend;\r\n              });\r\n            });\r\n        })\r\n        .catch((error: any) => {\r\n          console.log('同步好友关系列表', error);\r\n        });\r\n    },\r\n    syncJoinedGroup() {\r\n      window.imsdk.im.syncJoinedGroup(0, 100)\r\n        .then((res: any) => {\r\n          console.log('同步群列表', res.data);\r\n          // todo 如果数据超过 100 行需要循环拉取\r\n          this.imGroupList = res.data.dataList.map((item: any) => {\r\n            if (!item.groupName) {\r\n              return {\r\n                ...item,\r\n                groupName: generateGroupName(item),\r\n              };\r\n            }\r\n            return item;\r\n          });\r\n        })\r\n        .catch((error: any) => {\r\n          console.log('同步群列表失败', error);\r\n        });\r\n    },\r\n    onAddFriend(friendId: number) {\r\n      window.imsdk.im.getRelation(friendId)\r\n        .then((res: any) => {\r\n          const friendShip = res.data;\r\n          // todo 需要查询在线状态\r\n          const target = this.friendShipList.find((item) => item.toId === friendShip.toId);\r\n          if (target) {\r\n            // 如果已经存在直接替换\r\n            // eslint-disable-next-line max-len\r\n            this.friendShipList = this.friendShipList.map((item) => (item.toId === friendShip.toId ? target : item));\r\n          } else {\r\n            this.friendShipList.unshift(friendShip);\r\n          }\r\n        });\r\n    },\r\n    onAddGroup(group: ImGroupEntity) {\r\n      const userInfoStore = useUserInfoStore();\r\n      const conversationSet = useConversationSetStore();\r\n      // 获取群成员信息\r\n      window.imsdk.im.getGroupInfo(group.groupId)\r\n        .then((res: any) => {\r\n          if (res.code === 200) {\r\n            const resData = res.data;\r\n            if (!resData.groupName) {\r\n              resData.groupName = generateGroupName(resData);\r\n            }\r\n            this.imGroupList.unshift(resData);\r\n          }\r\n          console.log('返回的群成员信息', res);\r\n        });\r\n      // 添加 conversion\r\n      const groupConversion: Conversation = {\r\n        conversationId: `1_${userInfoStore.userId}_${group.groupId}`,\r\n        conversationType: 1,\r\n        fromId: userInfoStore.userId,\r\n        toId: group.groupId,\r\n        isMute: 0,\r\n        appId: userInfoStore.userInfo.appId,\r\n        isTop: 0,\r\n        readedSequence: 0,\r\n        sequence: 0,\r\n        unreadCount: 0,\r\n      };\r\n      conversationSet.addConversationSet(groupConversion);\r\n      if (userInfoStore.userId !== group.ownerId) {\r\n        ElNotification({\r\n          title: 'SUCCESS',\r\n          message: `你已被邀请加入群聊 ${group.groupName}`,\r\n          type: 'success',\r\n        });\r\n      }\r\n    },\r\n    onlineStatusChange(userId: string, status: number) {\r\n      const friendShip = this.friendShipList.find((item) => item.toId === userId);\r\n      if (friendShip) {\r\n        friendShip.onlineStatus = status;\r\n        ElNotification({\r\n          title: '好友在线状态通知',\r\n          message: `您的好友【${friendShip.remark || friendShip.nickName}】${status === 1 ? '上线' : '下线'}！`,\r\n          type: status === 1 ? 'success' : 'info',\r\n          position: 'bottom-right',\r\n        });\r\n      }\r\n    },\r\n    getOnlineStatus(userId: string) {\r\n      const friendShip = this.friendShipList.find((item) => item.toId === userId);\r\n      if (friendShip?.onlineStatus) {\r\n        return friendShip?.onlineStatus;\r\n      }\r\n      return 0;\r\n    },\r\n    getMemberNickName(groupId: string, memberId: string) {\r\n      const groupInfo = this.imGroupList.find((item) => item.groupId === groupId);\r\n      if (groupInfo) {\r\n        const member = groupInfo.memberList.find((item) => item.memberId === memberId);\r\n        if (member) {\r\n          return member.alias;\r\n        }\r\n      }\r\n      return '';\r\n    },\r\n  },\r\n});\r\n","// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { defineStore } from 'pinia';\r\nimport { Conversation, ConversationSet } from '@/types';\r\n\r\n/**\r\n * 会话列表\r\n */\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const useConversationSetStore = defineStore('conversationSet', {\r\n  state: () => ({\r\n    conversationSet: [] as ConversationSet,\r\n    currentConversation: {} as Conversation,\r\n  }),\r\n  getters: {\r\n    getConversationSet: (state) => state.conversationSet,\r\n  },\r\n  actions: {\r\n    addConversationSet(conversation: Conversation) {\r\n      if (!this.getConversationById(conversation.conversationId)) {\r\n        console.log('@@添加会话', conversation);\r\n        this.conversationSet.unshift(conversation);\r\n      }\r\n    },\r\n    syncConversationSet() {\r\n      window.imsdk.im.syncConversationSet(0, 100)\r\n        .then((res: any) => {\r\n          console.log('同步会话列表', res.data);\r\n          // todo 如果数据超过 100 行需要循环拉取\r\n          this.conversationSet = res.data.dataList;\r\n          // 安全地访问数组元素\r\n          this.currentConversation = this.conversationSet?.[0];\r\n        })\r\n        .catch((error: any) => {\r\n          console.log('同步会话列表失败', error);\r\n        });\r\n    },\r\n    getConversationById(conversationId: string) {\r\n      // eslint-disable-next-line max-len\r\n      return this.conversationSet.find((item: Conversation) => item.conversationId === conversationId);\r\n    },\r\n    setCurrentConversation(conversationId: string) {\r\n      const target = this.getConversationById(conversationId);\r\n      this.currentConversation = target || {} as Conversation;\r\n    },\r\n    addP2PConversationUnreadCount(conversationId: string, messageSeq: number) {\r\n      const target = this.getConversationById(conversationId);\r\n      // 如果是停留在当前会话，直接未读数为0\r\n      if (target && this.currentConversation?.conversationId === conversationId) {\r\n        target.unreadCount = 0;\r\n      } else if (target && target.readedSequence < messageSeq) {\r\n        // 更新会话的未读数\r\n        target.unreadCount = target.unreadCount ? target.unreadCount + 1 : 1;\r\n      }\r\n    },\r\n    setP2PConversationUnreadCount(conversationId: string, unreadCount: number) {\r\n      const target = this.getConversationById(conversationId);\r\n      // 如果是停留在当前会话，直接未读数为0\r\n      if (target) {\r\n        // eslint-disable-next-line max-len\r\n        target.unreadCount = target.unreadCount ? (target.unreadCount + unreadCount) : unreadCount;\r\n      }\r\n    },\r\n    resetP2PConversationUnreadCount(conversationId: string) {\r\n      const target = this.getConversationById(conversationId);\r\n      if (target) {\r\n        target.unreadCount = 0;\r\n      }\r\n    },\r\n    setP2PConversationReadSeq(conversationId: string, messageSeq: number) {\r\n      const target = this.getConversationById(conversationId);\r\n      if (target && target.readedSequence < messageSeq) {\r\n        console.log('更新会话的已读seq', conversationId, messageSeq);\r\n        target.readedSequence = messageSeq;\r\n      }\r\n    },\r\n  },\r\n});\r\n","// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { defineStore } from 'pinia';\r\nimport type { ImFriendShipRequestList, ImFriendShipRequest } from '@/types';\r\n\r\n/**\r\n * 好友请求列表\r\n */\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const useFriendRequestStore = defineStore('friendRequestList', {\r\n  state: () => ({\r\n    friendShipRequestList: [] as ImFriendShipRequestList,\r\n    unreadCount: 0 as number,\r\n  }),\r\n  getters: {\r\n    getFriendShipRequest: (state) => state.friendShipRequestList,\r\n  },\r\n  actions: {\r\n    addFriendShipRequest(conversation: ImFriendShipRequest) {\r\n      this.friendShipRequestList.unshift(conversation);\r\n      this.unreadCount += 1;\r\n    },\r\n    syncFriendShipRequest() {\r\n      // 1、判断本地存储是是否有存量数据\r\n      // 2、有，直接获取存量数据，然后根据最新的 seq ，判断是否需要增量更新\r\n      // 3、没有，从服务器获取\r\n      window.imsdk.im.getFriendRequest().then((res:any) => {\r\n        console.log('同步好友请求列表', res.data);\r\n        // todo 如果数据超过 100 行需要循环拉取\r\n        this.friendShipRequestList = res.data || [];\r\n      });\r\n    },\r\n    approveFriendRequest(id:number, approveStatus:number) {\r\n      // 使用find定位请求项，避免遍历整个数组\r\n      const requestToApprove = this.friendShipRequestList.find((item) => item.id === id);\r\n      if (requestToApprove) {\r\n        // 创建一个新对象以避免直接修改原对象\r\n        const updatedRequest = { ...requestToApprove, approveStatus };\r\n\r\n        // 更新数组，这里也可以选择直接替换或者根据业务逻辑决定是否需要保留原索引\r\n        // eslint-disable-next-line max-len\r\n        this.friendShipRequestList = this.friendShipRequestList.map((item) => (item.id === id ? updatedRequest : item));\r\n      }\r\n    },\r\n  },\r\n});\r\n","// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { defineStore } from 'pinia';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\nimport { useUserInfoStore } from '@/store/userInfo';\r\nimport {\r\n  type MessageRecord,\r\n  type MessageRecordMap,\r\n  type GroupMessageRecordMap,\r\n  GroupMessageRecord, Conversation,\r\n} from '@/types';\r\n\r\n/**\r\n * 消息记录\r\n */\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const useMessageRecordStore = defineStore('messageRecordMap', {\r\n  state: () => ({\r\n    messageRecordMap: {} as MessageRecordMap,\r\n    groupMessageRecordMap: {} as GroupMessageRecordMap,\r\n  }),\r\n  actions: {\r\n    addMessageRecord(userId: string, messageRecord: MessageRecord) {\r\n      if (!this.messageRecordMap[userId]) {\r\n        this.messageRecordMap[userId] = [];\r\n      }\r\n      // eslint-disable-next-line max-len\r\n      const target = this.messageRecordMap[userId].find((item) => item.messageId === messageRecord.messageId);\r\n      if (messageRecord.fromId === '324431782084609' && target) {\r\n        // 智能对话回复的消息\r\n        target.messageBody += messageRecord.messageBody;\r\n      } else {\r\n        this.messageRecordMap[userId].push(messageRecord);\r\n      }\r\n      // 判读是否是当前用户发送的消息，如果是接受消息，需要更新未读数\r\n      if (!messageRecord.isMe) {\r\n        // 触发消息重排序\r\n        // eslint-disable-next-line max-len\r\n        this.sortP2PMessageList(userId);\r\n        // 判读未读消息是否需要 +1\r\n        const conversationStore = useConversationSetStore();\r\n        const conversationId = `0_${messageRecord.toId}_${messageRecord.fromId}`;\r\n        // eslint-disable-next-line max-len\r\n        conversationStore.addP2PConversationUnreadCount(conversationId, messageRecord.messageSequence);\r\n      }\r\n    },\r\n    addGroupMessageRecord(groupId: string, groupMessageRecord: GroupMessageRecord) {\r\n      if (!this.groupMessageRecordMap[groupId]) {\r\n        this.groupMessageRecordMap[groupId] = [];\r\n      }\r\n      this.groupMessageRecordMap[groupId].push(groupMessageRecord);\r\n    },\r\n    clearMessageRecord() {\r\n      this.messageRecordMap = {};\r\n    },\r\n    getUserMessageRecord(userId: string) {\r\n      return this.messageRecordMap[userId];\r\n    },\r\n    getGroupMessageRecord(groupId: string) {\r\n      return this.groupMessageRecordMap[groupId];\r\n    },\r\n    /**\r\n     * 服务器 ack 通知，说明该消息已经发送到服务端\r\n     * 给消息设置 key 和 seq\r\n     * @param messageAck\r\n     */\r\n    onP2PMessageAck(messageAck: any) {\r\n      // 设置 message 的 key 和 seq\r\n      // eslint-disable-next-line max-len\r\n      const targetMessageRecord = this.messageRecordMap[messageAck.toId].find((messageRecord) => messageRecord.messageId === messageAck.messageId);\r\n      if (targetMessageRecord) {\r\n        targetMessageRecord.messageKey = messageAck.messageKey;\r\n        targetMessageRecord.messageSequence = messageAck.messageSequence;\r\n        targetMessageRecord.messageStatus = 1;\r\n        // this.sortP2PMessageList(messageAck.toId);\r\n      }\r\n    },\r\n    onP2PMessageReceiveAck(messageAck: any) {\r\n      // 设置 message 的接收标识\r\n      // eslint-disable-next-line max-len\r\n      const targetMessageRecord = this.messageRecordMap[messageAck.fromId].find((messageRecord) => messageRecord.messageKey === messageAck.messageKey);\r\n      if (targetMessageRecord) {\r\n        targetMessageRecord.messageStatus = 2;\r\n      }\r\n    },\r\n    onMessageReadReceipt(messageAck: any) {\r\n      // 设置 message 已读标识\r\n      // eslint-disable-next-line max-len\r\n      this.messageRecordMap[messageAck.fromId] = this.messageRecordMap[messageAck.fromId].map((messageRecord) => {\r\n        if (messageRecord.messageSequence <= messageAck.messageSequence) {\r\n          // 返回一个新的对象，而不是直接修改传入的参数\r\n          return { ...messageRecord, messageStatus: 3 };\r\n        }\r\n        return messageRecord;\r\n      });\r\n    },\r\n    sortP2PMessageList(userId: string) {\r\n      // eslint-disable-next-line max-len\r\n      this.messageRecordMap[userId].sort((recordA, recordB) => recordA.messageSequence - recordB.messageSequence);\r\n    },\r\n    sendP2PMessageReadAck(userId: string, conversationId: string) {\r\n      const message = this.messageRecordMap[userId]?.slice()\r\n        .reverse()\r\n        .find((item) => !item.isMe);\r\n      if (message) {\r\n        // eslint-disable-next-line max-len\r\n        window.imsdk.im.sendP2PMessageReadAck(message.messageKey, message.fromId, message.messageSequence);\r\n      }\r\n    },\r\n    /**\r\n     * @param messageList\r\n     */\r\n    dispatcherOfflineMessage(messageList: any) {\r\n      // 311968820887553\r\n      messageList.forEach((message: any) => {\r\n        const targetId = message.conversationId.split('_')\r\n          .pop();\r\n        const currentUserId = message.conversationId.split('_')[1];\r\n        if (message.conversationType === 0) {\r\n          // p2p\r\n          const messageRecord = {\r\n            isMe: message.fromId === currentUserId,\r\n            messageRandom: '',\r\n            messageStatus: 3,\r\n            fromId: message.fromId,\r\n            toId: message.toId,\r\n            messageKey: message.messageKey,\r\n            messageTime: message.messageTime,\r\n            clientType: message.clientType,\r\n            messageBody: JSON.parse(message.messageBody).content,\r\n            messageId: message.messageId,\r\n            messageSequence: message.messageSequence,\r\n            messageType: 1,\r\n          };\r\n          if (!this.messageRecordMap[targetId]) {\r\n            this.messageRecordMap[targetId] = [];\r\n          }\r\n          this.messageRecordMap[targetId].push(messageRecord);\r\n        } else if (message.conversationType === 1) {\r\n          // group\r\n          const groupMessageRecord = {\r\n            isMe: message.fromId === currentUserId,\r\n            messageRandom: '',\r\n            messageStatus: 3,\r\n            fromId: message.fromId,\r\n            toId: message.toId,\r\n            messageKey: message.messageKey,\r\n            messageTime: message.messageTime,\r\n            clientType: message.clientType,\r\n            messageBody: JSON.parse(message.messageBody).content,\r\n            messageId: message.messageId,\r\n            messageSequence: message.messageSequence,\r\n            messageType: 1,\r\n          };\r\n          if (!this.groupMessageRecordMap[targetId]) {\r\n            this.groupMessageRecordMap[targetId] = [];\r\n          }\r\n          this.groupMessageRecordMap[targetId].push(groupMessageRecord);\r\n        }\r\n        if (message.conversationType === 0) {\r\n          // 重排序\r\n          Object.keys(this.messageRecordMap).forEach((key) => {\r\n            this.sortP2PMessageList(key);\r\n          });\r\n        } else if (message.conversationType === 1) {\r\n          // 群聊重排序\r\n        }\r\n      });\r\n    },\r\n    initConversationUnreadCount() {\r\n      const conversationSetStore = useConversationSetStore();\r\n      const userInfoStore = useUserInfoStore();\r\n      const userIds = Object.keys(this.messageRecordMap);\r\n      userIds.forEach((userId) => {\r\n        const p2pConversation = conversationSetStore.getConversationById(`0_${userInfoStore.userId}_${userId}`);\r\n        // eslint-disable-next-line max-len\r\n        const unreadCount = this.messageRecordMap[userId].reduce((count, messageRecord) => (!messageRecord.isMe && messageRecord.messageSequence > p2pConversation?.readedSequence ? count + 1 : count), 0);\r\n        if (p2pConversation) {\r\n          // eslint-disable-next-line max-len\r\n          if (unreadCount > 0) {\r\n            // eslint-disable-next-line max-len\r\n            conversationSetStore.setP2PConversationUnreadCount(p2pConversation.conversationId, unreadCount);\r\n          }\r\n        } else {\r\n          // 创建一个单聊会话\r\n          const conversation: Conversation = {\r\n            conversationId: `0_${userInfoStore.userId}_${userId}`,\r\n            conversationType: 0,\r\n            appId: 10000,\r\n            fromId: userInfoStore.userId,\r\n            isMute: 0,\r\n            isTop: 0,\r\n            readedSequence: 0,\r\n            unreadCount,\r\n            sequence: 0,\r\n            toId: userId,\r\n          };\r\n          conversationSetStore.addConversationSet(conversation);\r\n        }\r\n      });\r\n    },\r\n    getLastMessage(userId: string, conversationType: number) {\r\n      if (conversationType === 0) {\r\n        return this.messageRecordMap[userId]?.slice(-1)[0];\r\n      }\r\n      return this.groupMessageRecordMap[userId]?.slice(-1)[0];\r\n    },\r\n  },\r\n});\r\n","// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { defineStore } from 'pinia';\r\nimport { ClientInfoList, UserInfo } from '@/types';\r\nimport { ElNotification } from 'element-plus';\r\n\r\n/**\r\n * 当前登陆用户信息\r\n */\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const useUserInfoStore = defineStore('userInfo', {\r\n  state: () => ({\r\n    userInfo: {} as UserInfo,\r\n    onlineState: 0 as number,\r\n    clientInfoList: [] as ClientInfoList,\r\n  }),\r\n  actions: {\r\n    async setUserInfo(userInfo: UserInfo) {\r\n      this.userInfo = Object.assign(this.userInfo, userInfo);\r\n      await window.imsdk.im.getSingleUserInfo(userInfo.userId)\r\n        .then((responseData: any) => {\r\n          // 在这里处理返回的数据\r\n          this.userInfo = Object.assign(this.userInfo, responseData.data);\r\n        })\r\n        .catch((error: any) => {\r\n          // 处理错误\r\n          console.error('获取登陆用户信息失败', error);\r\n        });\r\n    },\r\n    getUserInfo() {\r\n      return this.userInfo;\r\n    },\r\n    onlineStateChange(data: any) {\r\n      this.clientInfoList = data.client;\r\n      ElNotification({\r\n        title: '登录通知',\r\n        message: `您的【${data.imei}】端账号已${data.status === 1 ? '登录' : '登出'}`,\r\n        position: 'bottom-right',\r\n        type: data.status === 1 ? 'success' : 'info',\r\n        duration: 5000,\r\n      });\r\n    },\r\n  },\r\n  getters: {\r\n    userId():string {\r\n      return this.userInfo.userId;\r\n    },\r\n  },\r\n});\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"46\":\"49dad57d\",\"155\":\"32f42c54\",\"246\":\"d91703e3\",\"299\":\"0316e3ec\",\"370\":\"943ae5ac\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"46\":\"6c67bcca\",\"155\":\"ddc5eae3\",\"246\":\"62f851c5\",\"299\":\"5426672a\",\"370\":\"504d9170\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"my-web-im:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"46\":1,\"155\":1,\"246\":1,\"299\":1,\"370\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_web_im\"] = self[\"webpackChunkmy_web_im\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(5018); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","ListenerMap","friendRequestStore","useFriendRequestStore","messageRecordStore","useMessageRecordStore","concatListStore","useConcatListStore","userInfoStore","useUserInfoStore","conversationSetStore","useConversationSetStore","onSocketConnectEvent","option","status","data","console","log","JSON","stringify","onSocketErrorEvent","error","localStorage","removeItem","window","location","assign","onSocketReConnectEvent","onSocketCloseEvent","pathname","ElMessageBox","alert","confirmButtonText","callback","action","onSocketReConnectSuccessEvent","onTestMessage","e","onP2PMessageAck","parse","onP2PMessageReceiveAck","onMessageReadReceipt","onMessageReadSync","onP2PMessageSync","receiveMessage","message","isMe","messageRandom","messageStatus","fromId","toId","messageKey","messageTime","clientType","messageBody","content","messageId","messageSequence","messageType","addMessageRecord","onP2PMessage","imsdk","im","sendP2PMessageReceiveAck","conversationId","getConversationById","conversation","conversationType","appId","isMute","isTop","readedSequence","unreadCount","sequence","addConversationSet","currentConversation","sendP2PMessageReadAck","setP2PConversationReadSeq","onMutualLogin","onLogin","uid","onFriendRequest","friendRequest","addFriendShipRequest","onFriendRequestApprove","result","approveFriendRequest","id","onFriendRequestRead","onAddFriend","onCreateGroup","onAddGroup","onGroupMessage","addGroupMessageRecord","groupId","userId","senGroupMessageReadAck","onGroupMessageSync","onGroupMessageAck","onUserOnlineStatusChangeSync","onlineStateChange","onUserOnlineStatusChangeNotify","stateInfo","onlineStatusChange","onOfflineMessage","messageList","dispatcherOfflineMessage","router","useRouter","ImSdk","inject","conversationSet","contactsList","ElNotification","title","type","userName","ref","password","tabValue","initial","userInfo","setUserInfo","syncConversationSet","syncFriendShipList","syncJoinedGroup","syncFriendShipRequest","submit","value","ElMessage","requestData","loginType","loading","ElLoading","service","lock","text","background","axios","post","then","code","imUserSign","userSign","init","sdk","onlineState","setItem","close","replace","path","msg","catch","register","registerType","debouncedSubmit","debounce","delay","debouncedRegister","watch","newValue","routes","name","redirect","component","Login","children","createRouter","history","createWebHistory","process","beforeEach","async","to","from","next","userInfoStr","getItem","state","createStore","isLogin","getters","getUserInfo","mutations","initData","actions","commit","modules","app","createApp","App","pinia","createPinia","use","piniaPluginPersist","store","ElementPlus","Antd","provide","mount","generateGroupName","group","memberList","aliasesToShow","slice","length","map","item","alias","join","defineStore","friendShipList","currentContactCarId","imGroupList","getFriendShipList","this","getFriendShip","find","getGroupInfo","syncFriendshipList","res","dataList","queryFriendOnlineStatus","friend","updatedFriend","onlineStatus","groupName","friendId","getRelation","friendShip","target","unshift","resData","groupConversion","ownerId","remark","nickName","position","getOnlineStatus","getMemberNickName","memberId","groupInfo","member","getConversationSet","setCurrentConversation","addP2PConversationUnreadCount","messageSeq","setP2PConversationUnreadCount","resetP2PConversationUnreadCount","friendShipRequestList","getFriendShipRequest","getFriendRequest","approveStatus","requestToApprove","updatedRequest","messageRecordMap","groupMessageRecordMap","messageRecord","push","sortP2PMessageList","conversationStore","groupMessageRecord","clearMessageRecord","getUserMessageRecord","getGroupMessageRecord","messageAck","targetMessageRecord","sort","recordA","recordB","reverse","forEach","targetId","split","pop","currentUserId","Object","keys","key","initConversationUnreadCount","userIds","p2pConversation","reduce","count","getLastMessage","clientInfoList","getSingleUserInfo","responseData","client","imei","duration","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","promises","u","miniCssF","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","url","done","needAttach","scripts","document","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","setTimeout","bind","head","appendChild","Symbol","toStringTag","p","createStylesheet","fullhref","oldTag","resolve","reject","linkTag","rel","nonce","onLinkComplete","errorType","realHref","href","err","Error","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}
{"version":3,"file":"js/155.32f42c54.js","mappings":"+JACIA,EAAsB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,uVAA2V,KAAQ,eAAgB,MAAS,YAC7hB,I,UCAA,SAASC,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaI,OAAOH,UAAUD,IAAM,CAAC,EAAOK,EAAUD,OAAOE,KAAKH,GAAqD,oBAAjCC,OAAOG,wBAAwCF,EAAUA,EAAQG,OAAOJ,OAAOG,sBAAsBJ,GAAQM,QAAO,SAAUC,GAAO,OAAON,OAAOO,yBAAyBR,EAAQO,GAAKE,UAAY,MAAOP,EAAQQ,SAAQ,SAAUC,GAAOC,EAAgBhB,EAAQe,EAAKX,EAAOW,GAAO,GAAI,CAAE,OAAOf,CAAQ,CAExe,SAASgB,EAAgBC,EAAKF,EAAKG,GAAiK,OAApJH,KAAOE,EAAOZ,OAAOc,eAAeF,EAAKF,EAAK,CAAEG,MAAOA,EAAOL,YAAY,EAAMO,cAAc,EAAMC,UAAU,IAAkBJ,EAAIF,GAAOG,EAAgBD,CAAK,CAOhN,IAAInB,EAAsB,SAA6BwB,EAAOC,GAC5D,IAAIC,EAAIzB,EAAc,CAAC,EAAGuB,EAAOC,EAAQE,OAEzC,OAAOC,EAAAA,EAAAA,IAAaC,EAAAA,EAAU5B,EAAc,CAAC,EAAGyB,EAAG,CACjD,KAAQI,IACN,KACN,EAEA9B,EAAoB+B,YAAc,sBAClC/B,EAAoBgC,cAAe,EACnC,O,kFCpBIC,EAAmB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAC,EAAG,SAAY,CAAC,CAAE,IAAO,QAAS,MAAS,CAAC,KAAQ,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,yfAA4f,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,4xBAAgyB,KAAQ,YAAa,MAAS,YACxkD,I,UCAA,SAAShC,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaI,OAAOH,UAAUD,IAAM,CAAC,EAAOK,EAAUD,OAAOE,KAAKH,GAAqD,oBAAjCC,OAAOG,wBAAwCF,EAAUA,EAAQG,OAAOJ,OAAOG,sBAAsBJ,GAAQM,QAAO,SAAUC,GAAO,OAAON,OAAOO,yBAAyBR,EAAQO,GAAKE,UAAY,MAAOP,EAAQQ,SAAQ,SAAUC,GAAOC,EAAgBhB,EAAQe,EAAKX,EAAOW,GAAO,GAAI,CAAE,OAAOf,CAAQ,CAExe,SAASgB,EAAgBC,EAAKF,EAAKG,GAAiK,OAApJH,KAAOE,EAAOZ,OAAOc,eAAeF,EAAKF,EAAK,CAAEG,MAAOA,EAAOL,YAAY,EAAMO,cAAc,EAAMC,UAAU,IAAkBJ,EAAIF,GAAOG,EAAgBD,CAAK,CAOhN,IAAIc,EAAmB,SAA0BT,EAAOC,GACtD,IAAIC,EAAIzB,EAAc,CAAC,EAAGuB,EAAOC,EAAQE,OAEzC,OAAOC,EAAAA,EAAAA,IAAaC,EAAAA,EAAU5B,EAAc,CAAC,EAAGyB,EAAG,CACjD,KAAQQ,IACN,KACN,EAEAD,EAAiBF,YAAc,mBAC/BE,EAAiBD,cAAe,EAChC,O,oBCrBC,SAASG,EAAEC,GAAwDC,EAAOC,QAAQF,GAA0I,CAA5N,CAA8NG,GAAM,WAAW,aAAa,IAAIJ,EAAE,CAACK,IAAI,YAAYC,GAAG,SAASC,EAAE,aAAaC,GAAG,eAAeC,IAAI,sBAAsBC,KAAK,6BAA6B,OAAO,SAAST,EAAEU,EAAEC,GAAG,IAAIC,EAAEF,EAAEG,UAAU9C,EAAE6C,EAAEE,OAAOH,EAAEI,GAAGC,QAAQjB,EAAEa,EAAEE,OAAO,SAASd,QAAG,IAASA,IAAIA,EAAE,wBAAwB,IAAIU,EAAEP,KAAKc,UAAUD,QAAQL,EAAE,SAASX,EAAEU,GAAG,OAAOV,EAAEkB,QAAQ,qCAAqC,SAASlB,EAAEW,EAAEC,GAAG,IAAI7C,EAAE6C,GAAGA,EAAEO,cAAc,OAAOR,GAAGD,EAAEE,IAAIb,EAAEa,IAAIF,EAAE3C,GAAGmD,QAAQ,kCAAkC,SAASnB,EAAEC,EAAEU,GAAG,OAAOV,GAAGU,EAAEU,MAAM,EAAE,GAAG,GAAG,CAA5N,CAA8NpB,OAAE,IAASU,EAAE,CAAC,EAAEA,GAAG,OAAO3C,EAAEsD,KAAKlB,KAAKQ,EAAE,CAAC,CAAC,G,oBCAlyB,SAASC,EAAEb,GAAwDE,EAAOC,QAAQH,GAAuI,CAAzN,CAA2NI,GAAM,WAAW,aAAa,OAAO,SAASS,EAAEb,EAAEC,GAAGY,EAAEA,GAAG,CAAC,EAAE,IAAID,EAAEZ,EAAEc,UAAUH,EAAE,CAACY,OAAO,QAAQC,KAAK,SAASC,EAAE,gBAAgBC,EAAE,WAAWC,GAAG,aAAaC,EAAE,UAAUC,GAAG,WAAWC,EAAE,QAAQC,GAAG,UAAUC,EAAE,UAAUC,GAAG,YAAYC,EAAE,SAASC,GAAG,YAAY,SAASnE,EAAE6C,EAAEb,EAAEC,EAAEU,GAAG,OAAOC,EAAEwB,WAAWvB,EAAEb,EAAEC,EAAEU,EAAE,CAACV,EAAEe,GAAGqB,aAAa1B,EAAEC,EAAEwB,WAAW,SAASpC,EAAEY,EAAE5C,EAAE8D,EAAEQ,GAAG,IAAI,IAAIC,EAAEC,EAAEf,EAAEgB,EAAEzE,EAAEkD,UAAUmB,cAAc1B,EAAEiB,EAAEf,EAAE6B,YAAY,CAAC,CAACD,EAAE,IAAI5B,EAAE,GAAGiB,EAAE,UAAU,CAACW,EAAE,IAAI5B,EAAE,IAAI,CAAC4B,EAAE,KAAK5B,EAAE,GAAGiB,EAAE,UAAU,CAACW,EAAE,IAAI5B,EAAE,IAAI,CAAC4B,EAAE,KAAK5B,EAAE,GAAGiB,EAAE,QAAQ,CAACW,EAAE,IAAI5B,EAAE,IAAI,CAAC4B,EAAE,KAAK5B,EAAE,GAAGiB,EAAE,OAAO,CAACW,EAAE,IAAI5B,EAAE,IAAI,CAAC4B,EAAE,KAAK5B,EAAE,GAAGiB,EAAE,SAAS,CAACW,EAAE,IAAI5B,EAAE,IAAI,CAAC4B,EAAE,KAAKX,EAAE,SAASJ,EAAEE,EAAE1D,OAAOyE,EAAE,EAAEA,EAAEjB,EAAEiB,GAAG,EAAE,CAAC,IAAIT,EAAEN,EAAEe,GAAGT,EAAEJ,IAAIS,EAAET,EAAE7B,EAAED,GAAG4C,KAAK5E,EAAEkE,EAAEJ,GAAE,GAAI9D,EAAE4E,KAAK5C,EAAEkC,EAAEJ,GAAE,IAAK,IAAIvC,GAAGsB,EAAEgC,UAAUC,KAAKC,OAAOD,KAAKE,IAAIT,IAAI,GAAGd,EAAEc,EAAE,EAAEhD,GAAG2C,EAAErB,IAAIqB,EAAErB,EAAE,CAACtB,GAAG,GAAGoD,EAAE,IAAIT,EAAEN,EAAEe,EAAE,IAAI,IAAIM,EAAER,EAAEP,EAAEO,GAAGH,IAAI/C,EAAE+C,EAAE,GAAG/C,IAAIiD,EAAE,iBAAiBS,EAAEA,EAAE9B,QAAQ,KAAK5B,GAAG0D,EAAE1D,EAAEqB,EAAEsB,EAAEO,EAAEhB,GAAG,KAAK,CAAC,CAAC,GAAGb,EAAE,OAAO4B,EAAE,IAAIR,EAAEP,EAAEgB,EAAElB,OAAOkB,EAAEjB,KAAK,MAAM,mBAAmBQ,EAAEA,EAAEQ,GAAGR,EAAEb,QAAQ,KAAKqB,EAAE,EAAE5B,EAAEsC,GAAG,SAASrC,EAAEb,GAAG,OAAOhC,EAAE6C,EAAEb,EAAEI,MAAK,EAAG,EAAEQ,EAAEuC,KAAK,SAAStC,EAAEb,GAAG,OAAOhC,EAAE6C,EAAEb,EAAEI,KAAK,EAAE,IAAI0B,EAAE,SAASjB,GAAG,OAAOA,EAAEuC,GAAGnD,EAAEoD,MAAMpD,GAAG,EAAEW,EAAE0C,MAAM,SAASzC,GAAG,OAAOT,KAAK8C,GAAGpB,EAAE1B,MAAMS,EAAE,EAAED,EAAE2C,QAAQ,SAAS1C,GAAG,OAAOT,KAAK+C,KAAKrB,EAAE1B,MAAMS,EAAE,CAAC,CAAC,G,oGCA14C,Q,0CACE2C,EAAAA,EAAAA,IAOM,OAPNC,EAAAA,EAAAA,IAOMC,EAPOC,OAAM,CAAGC,MAAOC,EAAAC,eAAY,CAE5BC,EAAAC,SAAM,WAAjBR,EAAAA,EAAAA,IAAgF,OAHpF1E,IAAA,EAGwB8E,OAHxBK,EAAAA,EAAAA,IAAA,CAGgCJ,EAAAK,WAAYH,EAAAC,SAAUG,OAHtDC,EAAAA,EAAAA,IAG6DP,EAAAQ,kB,UAH7DC,EAAAA,EAAAA,IAAA,QAKIC,EAAAA,EAAAA,IAEM,OAFAJ,OALVC,EAAAA,EAAAA,IAKiBP,EAAAW,kB,EACXD,EAAAA,EAAAA,IAA6C,OAAvCE,IAAKV,EAAAU,IAAKC,IAAI,GAAGd,MAAM,gB,OANnCe,IAAA,O,CAcA,OACEtF,MAAO,CACLoF,IAAK,CACHG,KAAMC,OACNC,UAAU,GAEZC,KAAM,CACJH,KAAMC,OACNG,QAAS,QAEXhB,OAAQ,CACNY,KAAMC,OACNI,UAAYhG,GAAU,CAAC,SAAU,WAAWiG,SAASjG,IAEvDkG,eAAgB,CACdP,KAAMC,OACNG,QAAS,QAGbI,KAAAA,CAAM/F,GACJ,MAAMyE,EAAe,gBACfU,GAAkBa,EAAAA,EAAAA,KAAS,KAAM,CACrCC,MAAOjG,EAAM0F,KACbQ,OAAQlG,EAAM0F,KACdS,aAAc,MACdC,SAAU,aAGNvB,EAAa,cAEbG,GAAkBgB,EAAAA,EAAAA,KAAS,KAC/B,IAAIK,EAAY,CACdC,SAAU,WACVC,KAAM,MACNC,IAAK,MACLP,MAAOjG,EAAM8F,eACbI,OAAQlG,EAAM8F,eACdK,aAAc,OAehB,MAZqB,WAAjBnG,EAAM2E,OACR0B,EAAY,IACPA,EACHI,gBAAiB,WAEO,YAAjBzG,EAAM2E,SACf0B,EAAY,IACPA,EACHI,gBAAiB,0BAIdJ,CAAS,IAGlB,MAAO,CACL5B,eACAU,kBACAN,aACAG,kBAEJ,G,UCpEF,MAAM0B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,uLCTA,MAAMC,EAAQC,EAAQ,MAChB7D,EAAe6D,EAAQ,MACvBC,EAAkBD,EAAQ,MAUzB,SAASE,EAAkBC,GAChC,MAAMC,EAAML,IACNzE,EAAOyE,EAAMI,GAGbE,EAAcD,EAAI1D,KAAKpB,EAAM,UAC7BgF,EAAYF,EAAI1D,KAAKpB,EAAM,QAC3BiF,EAAWH,EAAI1D,KAAKpB,EAAM,OAEhC,OAAI+E,EAAc,EACT,KACHA,EAAc,GACX,GAAGA,QACNC,EAAY,GACT,GAAGA,QACNC,GAAY,EACT,GAAGA,OAELjF,EAAKT,OAAO,iBACrB,CA3BAkF,EAAMS,OAAOrE,GACb4D,EAAMS,OAAOP,GCFb,MACMxB,EAAa,CAAER,MAAO,CAAC,QAAU,OAAO,iBAAiB,WACzDwC,EAAa,CAAExC,MAAO,CAAC,QAAU,SACjCyC,EAAa,CAAEzC,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,kBAAkB,gBAAgB,MAAQ,OAAO,cAAc,SACjI0C,EAAa,CAAE1C,MAAO,CAAC,MAAQ,OAAO,QAAU,OAAO,kBAAkB,kBACzE2C,EAAa,CAAE3C,MAAO,CAAC,QAAU,OAAO,kBAAkB,gBAAgB,MAAQ,SAClF4C,EAAa,CAAEjI,IAAK,GACpBkI,EAAa,CAAE7C,MAAO,CAAC,aAAa,eACpC8C,EAAa,CAAE9C,MAAO,CAAC,QAAU,OAAO,kBAAkB,gBAAgB,cAAc,SACxF+C,EAAa,CACjBpI,IAAK,EACLqF,MAAO,CAAC,QAAU,SAEdgD,EAAc,CAAErI,IAAK,GAoB3B,OAA4BsI,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,kBACRhI,MAAO,CACLiI,eAAgB,CAAEtC,QAAS,IAC3BuC,iBAAkB,CAAEvC,QAAS,GAC7BwC,SAAU,CAAExC,QAAS,IACrByC,YAAa,CAAEzC,QAAS,IAE1BI,KAAAA,CAAMsC,GCUR,MAAMrI,EAAQqI,EAORC,GAAuBC,EAAAA,EAAAA,MACvB,oBAAEC,IAAwBC,EAAAA,EAAAA,IAAYH,GACtCI,GAAkBC,EAAAA,EAAAA,KAClBC,GAAqBC,EAAAA,EAAAA,KAIrBC,EAAcA,KAElBR,EAAqBS,uBAAuB/I,EAAMiI,gBAElDK,EAAqBU,gCAAgChJ,EAAMiI,gBAEvDjI,EAAMoI,YAAc,GACtBQ,EAAmBK,sBAAsBjJ,EAAMmI,SAAUnI,EAAMiI,e,EAI7DiB,GAAoBlD,EAAAA,EAAAA,KAAS,KACjC,GAA+B,IAA3BhG,EAAMkI,iBAAwB,CAChC,MAAMiB,EAAaT,EAAgBU,cAAcpJ,EAAMmI,UACvD,OAAOgB,GAAYE,QAAUF,GAAYG,Q,CAE3C,OAAOZ,EAAgBa,aAAavJ,EAAMmI,WAAWqB,SAAS,IAG1DC,GAAYzD,EAAAA,EAAAA,KAAS,KACzB,IAAI0D,EAA2B,GAC/B,GAA+B,IAA3B1J,EAAMkI,iBAAwB,CAChC,MAAMiB,EAAaT,EAAgBU,cAAcpJ,EAAMmI,UACvDuB,EAAOP,GAAYG,Q,MAEnBI,EAAOhB,EAAgBa,aAAavJ,EAAMmI,WAAWqB,UAEvD,MAAO,wBAAwBE,YAA0C,IAA3B1J,EAAMkI,iBAAyB,IAAM,kBAAkB,IAGjGyB,GAAe3D,EAAAA,EAAAA,KAAS,KAC5B,MAAMrB,EAAS+D,EAAgBkB,gBAAgB5J,EAAMmI,UACrD,OAAe,IAAXxD,EACK,SAEF,SAAS,IAGZkF,GAAc7D,EAAAA,EAAAA,KAAS,IAAM4C,EAAmBkB,eAAe9J,EAAMmI,SAAUnI,EAAMkI,oBDX3F,MAAO,CAAC7D,EAAU0F,KAChB,MAAMC,GAAqBC,EAAAA,EAAAA,IAAkB,WACvCC,GAAqBD,EAAAA,EAAAA,IAAkB,WACvCE,GAAsBF,EAAAA,EAAAA,IAAkB,YACxCG,GAAqBH,EAAAA,EAAAA,IAAkB,WAE7C,OAAQI,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaF,EAAoB,CACrDtF,MAAO,CAAC,MAAQ,MAAM,OAAS,UAC/ByF,OAAQ,QACRhG,OAAOK,EAAAA,EAAAA,IAAgB,CAAC,sBAAwBP,EAAK8D,YAAaqC,EAAAA,EAAAA,IAAOhC,IAAsBiC,OAC/FC,QAAS5B,GACR,CACDnD,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBzF,EAAAA,EAAAA,IAAoB,MAAOI,EAAY,EACrCJ,EAAAA,EAAAA,IAAoB,MAAOoC,EAAY,EACrClH,EAAAA,EAAAA,IAAawK,EAAAA,EAAQ,CACnBxF,IAAKqE,EAAU7J,MACf+E,OAAQgF,EAAa/J,MACrB8F,KAAM,OACNI,eAA2C,IAA3B9F,EAAMkI,iBAAyB,OAAS,KACvD,KAAM,EAAG,CAAC,MAAO,SAAU,oBAC9BhD,EAAAA,EAAAA,IAAoB,MAAOqC,EAAY,EACrCrC,EAAAA,EAAAA,IAAoB,MAAOsC,EAAY,EACrCtC,EAAAA,EAAAA,IAAoB,MAAOuC,EAAY,EACrCrH,EAAAA,EAAAA,IAAa4J,EAAoB,CAC/BzF,MAAO,OACPgB,KAAM,UACNT,MAAO,CAAC,aAAa,aAAa,YAAY,SAC9CY,KAAM,QACNmF,UAAW,IACV,CACDlF,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBG,EAAAA,EAAAA,KAAiBC,EAAAA,EAAAA,IAAiB7B,EAAkBtJ,OAAQ,MAE9DoL,EAAG,IAEJnB,EAAYjK,QACRyK,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoB,MAAOuD,GAAYqD,EAAAA,EAAAA,KAAiBP,EAAAA,EAAAA,IAAOzD,EAAPyD,CAA0BX,EAAYjK,OAAOqL,cAAe,KACnIhG,EAAAA,EAAAA,IAAoB,IAAI,QAGhCC,EAAAA,EAAAA,IAAoB,MAAOyC,EAAY,CACT,IAA3B3H,EAAMkI,mBACFmC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaN,EAAoB,CAC9CvK,IAAK,EACL8E,MAAO,OACPgB,KAA6B,WAAvBoE,EAAa/J,MAAqB,UAAY,OACpD8F,KAAM,SACL,CACDC,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBG,EAAAA,EAAAA,KAAiBC,EAAAA,EAAAA,IAAwC,WAAvBpB,EAAa/J,MAAqB,KAAO,MAAO,MAEpFoL,EAAG,GACF,EAAG,CAAC,WACP/F,EAAAA,EAAAA,IAAoB,IAAI,UAIlCC,EAAAA,EAAAA,IAAoB,MAAO0C,EAAY,CACpCiC,EAAYjK,QACRyK,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoB,MAAO0D,EAAY,EACpDzH,EAAAA,EAAAA,IAAa8J,EAAoB,CAC/BpF,MAAO,CAAC,eAAe,MAAM,MAAQ,WACrCP,OAAOK,EAAAA,EAAAA,IAAgB,CAAC,cAAeiF,EAAYjK,OAAOsL,QACzD,CACDvF,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBvK,EAAAA,EAAAA,KAAaoK,EAAAA,EAAAA,IAAOW,EAAAA,SAEtBH,EAAG,GACF,EAAG,CAAC,WACP5K,EAAAA,EAAAA,IAAa4J,EAAoB,CAC/BzE,KAAM,OACNG,KAAM,QACN,aAAc,KACb,CACDC,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBG,EAAAA,EAAAA,KAAiBC,EAAAA,EAAAA,IAAiBlB,EAAYjK,MAAMwL,aAAc,MAEpEJ,EAAG,QAGP/F,EAAAA,EAAAA,IAAoB,IAAI,GAC3BZ,EAAK+D,YAAc,IACfiC,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoB,MAAO2D,EAAa,EACrD1H,EAAAA,EAAAA,IAAa+J,EAAqB,CAChCvK,MAAOI,EAAMoI,YACb7D,MAAO,OACP8G,OAAQ,UACP,KAAM,EAAG,CAAC,cAEfpG,EAAAA,EAAAA,IAAoB,IAAI,UAIlC+F,EAAG,GACF,EAAG,CAAC,SAAS,CAElB,I,UE1LA,MAAMtE,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,2DCLA,MACMpB,EAAa,CAAEf,MAAO,kBAK5B,OAA4BwD,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,UACRjC,KAAAA,CAAMsC,GAGR,MAAO,CAAChE,EAAU0F,MACRM,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoB,MAAOmB,EAAY,EAC3DlF,EAAAA,EAAAA,IAAawK,EAAAA,EAAQ,CACnBxF,KAAKoF,EAAAA,EAAAA,IAAOc,GACZ/G,MAAO,eACPmB,KAAM,QACNf,OAAQ,SACRmB,eAAgB,OACf,KAAM,EAAG,CAAC,UAGjB,ICnBA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCLA,MACMR,EAAa,CAAEf,MAAO,oBACtB+C,EAAa,CAAExC,MAAO,CAAC,QAAU,OAAO,OAAS,OAAO,MAAQ,OAAO,KAAO,MAC9EyC,EAAa,CAAEzC,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,kBAAkB,gBAAgB,cAAc,SAClH0C,EAAa,CAAE1C,MAAO,CAAC,aAAa,aAAa,aAAa,QAC9D2C,EAAa,CAAEhI,IAAK,GACpBiI,EAAa,CAAE5C,MAAO,CAAC,QAAU,OAAO,MAAQ,QAAQ,kBAAkB,eAAe,cAAc,WAiB7G,OAA4BiD,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,WACRjC,KAAAA,CAAMsC,ICbmBQ,EAAAA,EAAAA,KAA3B,MACMP,GAAuBC,EAAAA,EAAAA,KACvBG,GAAkBC,EAAAA,EAAAA,KAElB4C,GAAmBC,EAAAA,EAAAA,KAAI,IACvB,oBAAEhD,IAAwBC,EAAAA,EAAAA,IAAYH,GAC5C,SAASmD,IACPF,EAAiB3L,OAAQ,CAC3B,CAGA,MAAM6J,GAAYzD,EAAAA,EAAAA,KAAS,KACzB,IAAI0D,EAA2B,GAC/B,GAAoD,IAAhDlB,EAAoB5I,OAAOsI,iBAAwB,CACrD,MAAMiB,EAAaT,EAAgBU,cAAcZ,EAAoB5I,MAAM6K,MAC3Ef,EAAOP,GAAYG,Q,MACsC,IAAhDd,EAAoB5I,OAAOsI,mBACpCwB,EAAOhB,EAAgBa,aAAaf,EAAoB5I,MAAM6K,OAAOjB,WAEvE,MAAO,wBAAwBE,YAA+D,IAAhDlB,EAAoB5I,OAAOsI,iBAAyB,IAAM,kBAAkB,IAGtHoB,GAAWtD,EAAAA,EAAAA,KAAS,KACxB,IAAI0D,EAA2B,GAC/B,GAAoD,IAAhDlB,EAAoB5I,OAAOsI,iBAAwB,CACrD,MAAMiB,EAAaT,EAAgBU,cAAcZ,EAAoB5I,MAAM6K,MAC3Ef,EAAOP,GAAYE,QAAUF,GAAYG,Q,MACgB,IAAhDd,EAAoB5I,OAAOsI,mBACpCwB,EAAOhB,EAAgBa,aAAaf,EAAoB5I,MAAM6K,OAAOjB,WAEvE,OAAOE,CAAI,IAIPC,GAAe3D,EAAAA,EAAAA,KAAS,IAAM0C,EAAgBkB,gBAAgBpB,EAAoB5I,MAAM6K,QDiB9F,MAAO,CAACpG,EAAU0F,KAChB,MAAMC,GAAqBC,EAAAA,EAAAA,IAAkB,WACvCyB,GAAuBzB,EAAAA,EAAAA,IAAkB,aAE/C,OAAQI,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoBwH,EAAAA,GAAW,KAAM,EACzDzG,EAAAA,EAAAA,IAAoB,MAAOI,EAAY,EACrCJ,EAAAA,EAAAA,IAAoB,MAAOoC,EAAY,EACrClH,EAAAA,EAAAA,IAAawK,EAAAA,EAAQ,CACnBxF,IAAKqE,EAAU7J,MACf+E,OAAQ,SACRe,KAAM,OACNI,eAAgB,MAChB4E,QAASe,GACR,KAAM,EAAG,CAAC,SACbvG,EAAAA,EAAAA,IAAoB,MAAOqC,EAAY,EACrCrC,EAAAA,EAAAA,IAAoB,MAAOsC,EAAY,EACrCpH,EAAAA,EAAAA,IAAa4J,EAAoB,CAC/BzF,MAAO,OACPmB,KAAM,SACL,CACDC,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBG,EAAAA,EAAAA,KAAiBC,EAAAA,EAAAA,IAAiBzB,EAAS1J,OAAQ,MAErDoL,EAAG,MAG4C,KAAlDR,EAAAA,EAAAA,IAAOhC,IAAsBN,mBACzBmC,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoB,MAAOsD,GAAYsD,EAAAA,EAAAA,KAA2C,IAAvBpB,EAAa/J,MAAa,KAAO,MAApC,kBAA2D,KAClIqF,EAAAA,EAAAA,IAAoB,IAAI,QAGhCC,EAAAA,EAAAA,IAAoB,MAAOwC,EAAY,EACrCtH,EAAAA,EAAAA,KAAaoK,EAAAA,EAAAA,IAAO/J,EAAAA,GAAmB,CAAEqE,MAAO,CAAC,SAAW,WAC5D1E,EAAAA,EAAAA,KAAaoK,EAAAA,EAAAA,IAAOhM,EAAAA,GAAsB,CAAEsG,MAAO,CAAC,SAAW,WAC/D1E,EAAAA,EAAAA,KAAaoK,EAAAA,EAAAA,IAAOoB,EAAAA,GAAmB,CAAE9G,MAAO,CAAC,SAAW,eAGhE1E,EAAAA,EAAAA,IAAasL,EAAsB,CACjCG,WAAYN,EAAiB3L,MAC7B,sBAAuBmK,EAAO,KAAOA,EAAO,GAAM+B,GAAkBP,EAAkB3L,MAAQkM,GAC9FC,MAAO,SACPC,UAAW,OACV,CACDrG,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBvK,EAAAA,EAAAA,IAAa6L,MAEfjB,EAAG,GACF,EAAG,CAAC,gBACN,GAAG,CAER,IE9GA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,oBCLA,MACM1F,EAAa,CACjB7F,IAAK,EACLqF,MAAO,CAAC,OAAS,SAEbwC,EAAa,CAAE/C,MAAO,sBACtBgD,EAAa,CACjB9H,IAAK,EACL8E,MAAO,yBAEHiD,EAAa,CAAEjD,MAAO,UACtBkD,EAAa,CAAElD,MAAO,gBACtBmD,GAAa,CACjBjI,IAAK,EACLqF,MAAO,CAAC,OAAS,SAmBnB,QAA4BiD,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,aACRhI,MAAO,CACLuF,KAAM,CAAEI,QAAS,QACjBuG,KAAM,CAAEvG,QAAS,IACjBuC,iBAAkB,CAAEvC,QAAS,GAC7BwC,SAAU,CAAExC,QAAS,IACrBwG,OAAQ,CAAExG,QAAS,IACnByG,cAAe,CAAEzG,QAAS,IAE5BI,KAAAA,CAAMsC,IAERgE,EAAAA,EAAAA,KAAYhI,IAAQ,CAClB,YAAamG,EAAAA,EAAAA,IAAO8B,GACpB,YAAa9B,EAAAA,EAAAA,IAAO+B,GACpB,YAAa/B,EAAAA,EAAAA,IAAOgC,GACpB,YAAahC,EAAAA,EAAAA,IAAO/D,OCpCtB,MAAMzG,EAAQqI,EASR5B,EAAiC,SAAfzG,EAAMuF,KAAkB,UAAY,UACtDiH,EAA2B,SAAfxM,EAAMuF,KAAkB,UAAY,UAChD+G,EAA2B,SAAftM,EAAMuF,KAAkB,WAAa,aACjDgH,EAA2B,SAAfvM,EAAMuF,KAAkB,MAAQ,QAC5CkH,GAAoB9D,EAAAA,EAAAA,KACpB+D,GAAgBC,EAAAA,EAAAA,KAEhBrD,GAAWtD,EAAAA,EAAAA,KAAS,IACO,IAA3BhG,EAAMkI,iBACDuE,EAAkBG,kBAAkB5M,EAAMmI,SAAUnI,EAAMmM,QAE5D,KAGHU,GAAY7G,EAAAA,EAAAA,KAAS,KACzB,GAAmB,UAAfhG,EAAMuF,KACR,MAAO,KAET,OAAQvF,EAAMoM,eACZ,KAAK,EACH,MAAO,MACT,KAAK,EACH,MAAO,MACT,KAAK,EACH,MAAO,MACT,KAAK,EACH,MAAO,KACT,QACE,MAAO,G,IAKP3C,GAAYzD,EAAAA,EAAAA,KAAS,KACzB,IAAI0D,EAAW,GAQf,OANEA,EADiB,SAAf1J,EAAMuF,KACDmH,EAAcI,SAASxD,SACM,IAA3BtJ,EAAMkI,iBACRuE,EAAkBG,kBAAkB5M,EAAMmI,SAAUnI,EAAMmM,QAE1DM,EAAkBrD,cAAcpJ,EAAMmI,WAAWmB,SAEnD,wBAAwBI,yBAA4B,IDmC7D,MAAO,CAACrF,EAAU0F,KAChB,MAAMC,GAAqBC,EAAAA,EAAAA,IAAkB,WAE7C,OAAQI,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoB,MAAO,CAC/CI,OAAOK,EAAAA,EAAAA,IAAgB,CAAC,wBAAyB,CAAC,mBAAmC,UAAf5E,EAAMuF,KAAkB,oBAAoC,SAAfvF,EAAMuF,SACxH,CACe,SAAfvF,EAAMuF,OACF8E,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoB,MAAOmB,EAAY,EACpDlF,EAAAA,EAAAA,IAAawK,EAAAA,EAAQ,CACnBxF,IAAKqE,EAAU7J,MACf+E,OAAQ,SACRe,KAAM,OACNI,eAAgB,OACf,KAAM,EAAG,CAAC,YAEfb,EAAAA,EAAAA,IAAoB,IAAI,IAC5BC,EAAAA,EAAAA,IAAoB,MAAOoC,EAAY,CACT,IAA3BtH,EAAMkI,mBACFmC,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoB,MAAOoD,EAAY,EACpDnH,EAAAA,EAAAA,IAAa4J,EAAoB,KAAM,CACrCrE,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBG,EAAAA,EAAAA,KAAiBC,EAAAA,EAAAA,IAAiBzB,EAAS1J,OAAQ,MAErDoL,EAAG,QAGP/F,EAAAA,EAAAA,IAAoB,IAAI,IAC5BC,EAAAA,EAAAA,IAAoB,MAAOsC,EAAY,EACrCpH,EAAAA,EAAAA,IAAa4J,EAAoB,CAC/BtE,KAAM,QACNZ,MAAO,CAAC,MAAQ,YACf,CACDa,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBoC,EAAAA,EAAAA,IAAY1I,EAAK2I,OAAQ,UAAW,CAAC,GAAG,IAAM,EAC5ClC,EAAAA,EAAAA,IAAiB,cAGrBE,EAAG,OAGP9F,EAAAA,EAAAA,IAAoB,MAAOuC,GAAYsD,EAAAA,EAAAA,IAA4C,IAA3B/K,EAAMkI,iBAAyB,GAAG7D,EAAK6H,QAAQW,EAAUjN,QAASyE,EAAK6H,MAAO,KAExH,SAAflM,EAAMuF,OACF8E,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoB,MAAOuD,GAAY,EACpDtH,EAAAA,EAAAA,IAAawK,EAAAA,EAAQ,CACnBxF,IAAKqE,EAAU7J,MACf+E,OAAQ,SACRe,KAAM,OACNI,eAAgB,OACf,KAAM,EAAG,CAAC,YAEfb,EAAAA,EAAAA,IAAoB,IAAI,IAC3B,EAAE,CAEP,IEtJA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,WCLA,MACMK,GAAa,CAAEf,MAAO,iBAU5B,QAA4BwD,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,SACRjC,KAAAA,CAAMsC,GCRR,MAAM4E,GAAQC,EAAAA,EAAAA,IAAY,SACpBC,GAAY3B,EAAAA,EAAAA,IAAI,IAChB5C,GAAqBC,EAAAA,EAAAA,KACrBP,GAAuBC,EAAAA,EAAAA,KAC7B,SAAS6E,EAASxN,GAEhB,GADAyN,QAAQC,IAAI,OAAQhF,EAAqBE,oBAAoBN,kBACxDtI,EAUL,GAHAyN,QAAQC,IAAI,OAAQhF,EAAqBE,oBAAoBiC,MAE7D0C,EAAUvN,MAAQ,GACgD,IAA9D0I,EAAqBE,oBAAoBN,iBAAwB,CAGnE,MAAMqF,EAAUN,EAAMO,qBAAqBlF,EAAqBE,oBAAoBiC,KAAM7K,GAE1FyN,QAAQC,IAAI,UACZL,EAAMQ,eAAeF,GACrB,MAAMG,EAA+B,CACnCC,WAAY,EACZC,WAAYL,EAAQK,WACpBC,UAAWN,EAAQM,UACnBC,cAAeP,EAAQO,cACvB7C,YAAasC,EAAQtC,YACrBkB,OAAQoB,EAAQpB,OAChB1B,KAAM8C,EAAQ9C,KACdW,YAAa2C,KAAKC,MAAMT,EAAQnC,aAAa6C,QAE7CC,YAAa,EACb9B,cAAe,EACflB,MAAM,GAGRtC,EAAmBuF,iBAAiB7F,EAAqBE,oBAAoBiC,KAAMiD,E,KAC9E,CACLL,QAAQC,IAAI,UAIZ,MAAMC,EAAUN,EAAMmB,uBAAuB9F,EAAqBE,oBAAoBiC,KAAM7K,GAC5FqN,EAAMoB,iBAAiBd,GACvB,MAAMG,EAAoC,CACxCC,WAAY,EACZC,WAAYL,EAAQK,WACpBC,UAAWN,EAAQM,UACnBC,cAAeP,EAAQO,cACvB7C,YAAasC,EAAQtC,YACrBkB,OAAQoB,EAAQpB,OAChB1B,KAAM8C,EAAQ9C,KACdW,YAAa2C,KAAKC,MAAMT,EAAQnC,aAAa6C,QAE7CC,YAAa,EACb9B,cAAe,EACflB,MAAM,GAGRtC,EAAmB0F,sBAAsBhG,EAAqBE,oBAAoBiC,KAAMiD,E,MAtDxFa,EAAAA,GAAAA,IAAU,CACRhB,QAAS,YACThI,KAAM,WAsDZ,CDYA,MAAO,CAAClB,EAAU0F,KAChB,MAAMG,GAAqBD,EAAAA,EAAAA,IAAkB,WACvCuE,GAAqBvE,EAAAA,EAAAA,IAAkB,WAE7C,OAAQI,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoB,MAAOmB,GAAY,EAC3DlF,EAAAA,EAAAA,IAAaoO,EAAoB,CAC/B5O,MAAOuN,EAAUvN,MACjB,iBAAkBmK,EAAO,KAAOA,EAAO,GAAM+B,GAAkBqB,EAAWvN,MAAQkM,GAClF2C,UAAU,EACVC,YAAa,gBACbhJ,KAAM,QACNiJ,QAAS5E,EAAO,KAAOA,EAAO,IAAK6E,EAAAA,EAAAA,KAAW9C,GAAiBsB,EAASD,EAAUvN,QAAS,CAAC,YAC3F,CACDiP,QAAQlE,EAAAA,EAAAA,KAAS,IAAM,EACrBvK,EAAAA,EAAAA,IAAa8J,EAAoB,CAC/BpF,MAAO,CAAC,YAAY,QACpBgK,MAAO,UACPpE,QAASX,EAAO,KAAOA,EAAO,GAAM+B,GAAiBsB,EAASD,EAAUvN,SACvE,CACD+F,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBvK,EAAAA,EAAAA,KAAaoK,EAAAA,EAAAA,IAAOuE,EAAAA,KAAY,CAAExK,MAAO,mBAE3CyG,EAAG,OAGPA,EAAG,GACF,EAAG,CAAC,WACP,CAEJ,IE1GA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,iCCLA,MACM1F,GAAa,CAAEf,MAAO,uBACtB+C,GAAa,CAAExC,MAAO,CAAC,MAAQ,SAC/ByC,GAAa,CAAEzC,MAAO,CAAC,KAAO,IAAI,aAAa,SAgBrD,QAA4BiD,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,cACRjC,KAAAA,CAAMsC,GCiBR,MAAMO,GAAqBC,EAAAA,EAAAA,KACrBP,GAAuBC,EAAAA,EAAAA,MACvB,oBAAEC,IAAwBC,EAAAA,EAAAA,IAAYH,GAE5C,SAAS0G,IACP,OAAmD,IAA/CxG,EAAoB5I,MAAMsI,iBACrBU,EAAmBqG,sBAAsBzG,EAAoB5I,MAAM6K,OAAS,GAE9E7B,EAAmBsG,qBAAqB1G,EAAoB5I,MAAM6K,OAAS,EACpF,CAEA,MAAM0E,GAAcnJ,EAAAA,EAAAA,KAAS,IACtBwC,EAAoB5I,MAGlBoP,IAFE,KAILI,GAAW5D,EAAAA,EAAAA,MACX6D,GAAe7D,EAAAA,EAAAA,MDErB,OCDA8D,EAAAA,EAAAA,KAAM,IAAMH,IAAa,MACvBI,EAAAA,EAAAA,KAAS,KACHH,EAASxP,OACXyP,EAAazP,OAAO4P,aAAaJ,EAASxP,OAAO6P,a,GAEnD,GACD,CAAEC,MAAM,KAEXC,EAAAA,EAAAA,KAAU,MACRJ,EAAAA,EAAAA,KAAS,KACHH,EAASxP,OACXyP,EAAazP,OAAO4P,aAAaJ,EAASxP,OAAO6P,a,GAEnD,IDZG,CAACpL,EAAU0F,MACRM,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoB,MAAOmB,GAAY,EAC3DJ,EAAAA,EAAAA,IAAoB,MAAOoC,GAAY,EACrClH,EAAAA,EAAAA,IAAawP,MAEf1K,EAAAA,EAAAA,IAAoB,MAAOqC,GAAY,CACpC4H,EAAYvP,MAAMf,OAAS,IACvBwL,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,KAAaE,EAAAA,EAAAA,IAAOqF,GAAAA,IAAc,CAC/CpQ,IAAK,EACLyG,OAAQ,OACR4J,QAAS,eACTtE,IAAK6D,GACJ,CACD1J,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBzF,EAAAA,EAAAA,IAAoB,MAAO,CACzB4K,QAAS,WACTtE,IAAK4D,GACJ,GACA/E,EAAAA,EAAAA,KAAW,IAAOlG,EAAAA,EAAAA,IAAoBwH,EAAAA,GAAW,MAAMoE,EAAAA,EAAAA,IAAYZ,EAAYvP,OAAQ2N,KAC9ElD,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAa0F,GAAY,CAC7CzK,KAAMgI,EAAQrC,KAAO,OAAS,QAC9B,qBAAqBV,EAAAA,EAAAA,IAAOhC,GAAqBN,iBACjDgE,MAAM1B,EAAAA,EAAAA,IAAO5D,KAAP4D,CAAc+C,EAAQtC,aAAavJ,OAAO,oBAChD,aAAa8I,EAAAA,EAAAA,IAAOhC,GAAqBiC,KACzC,UAAW8C,EAAQpB,OACnB,iBAAkBoB,EAAQnB,cAC1B3M,IAAK8N,EAAQM,WACZ,CACDlI,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBG,EAAAA,EAAAA,KAAiBC,EAAAA,EAAAA,IAAiBwC,EAAQnC,aAAc,MAE1DJ,EAAG,GACF,KAAM,CAAC,OAAQ,oBAAqB,OAAQ,YAAa,UAAW,sBACrE,OACH,QAELA,EAAG,GACF,OACH/F,EAAAA,EAAAA,IAAoB,IAAI,MAE9B7E,EAAAA,EAAAA,IAAa6P,MAGjB,IElGA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,WC6KM,MAAOC,GAgBXC,WAAAA,CAAYC,IAAe1Q,EAAAA,GAAAA,GAAA,yBAAAA,EAAAA,GAAAA,GAAA,aAbnB,KAERA,EAAAA,GAAAA,GAAA,iBACY,MAEZA,EAAAA,GAAAA,GAAA,iBACY,IAACA,EAAAA,GAAAA,GAAA,gBAEF,IAEXA,EAAAA,GAAAA,GAAA,YACO,GAGLqB,KAAKqP,SAAWA,CAClB,E,eCpMF,MAAM9K,GAAa,CAAER,MAAO,CAAC,QAAU,SACjCwC,GAAa,CAAE/C,MAAO,WACtBgD,GAAa,CAAEhD,MAAO,uBACtBiD,GAAa,CAAEjD,MAAO,eACtBkD,GAAa,CAAE3C,MAAO,CAAC,OAAS,OAAO,MAAQ,OAAO,mBAAmB,wBAAwB,gBAAgB,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,WACjL4C,GAAa,CAAEnD,MAAO,aACtBoD,GAAa,CAAEpD,MAAO,mBACtBqD,GAAa,CAAErD,MAAO,iBAgB5B,QAA4BwD,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,mBACRjC,KAAAA,CAAMsC,GC+CR,MAAM4E,GAAQC,EAAAA,EAAAA,IAAY,SACpB5E,GAAuBC,EAAAA,EAAAA,MACvB,gBAAE8H,IAAoB5H,EAAAA,EAAAA,IAAYH,GAClCI,GAAkBC,EAAAA,EAAAA,MAClB,eAAE2H,IAAmB7H,EAAAA,EAAAA,IAAYC,GACjC6H,GAAa/E,EAAAA,EAAAA,IAAI,IACjBgF,GAAqBhF,EAAAA,EAAAA,KAAI,GACzBiF,EAAmBA,KAEvBD,EAAmB5Q,OAAQ,CAAI,EAG3B8Q,GAAiB1K,EAAAA,EAAAA,KAAS,IAAMsK,EAAe1Q,MAAM+Q,KAAKC,IAAI,IAC/DA,EACHC,MAAOD,EAAKvH,QAAUuH,EAAKtH,eAEvBwH,GAAatF,EAAAA,EAAAA,IAAc,IAE3BuF,EAAeA,CAACC,EAAYJ,IAAcA,EAAKC,MAAMI,cACxDpL,SAASmL,EAAMC,eAEZC,EAAgBA,KACpB,GAAgC,IAA5BJ,EAAWlR,MAAMf,OACnB,OAEF,MAAMsS,EAA4B,GAClCL,EAAWlR,MAAMJ,SAASoR,IACxBO,EAAWC,KAAK,IAAIlB,GAAYU,GAAM,IAExC3D,EAAMoE,YAAY,EAAG,GAAI,EAAG,EAAG,MAAO,MAAO,GAAI,IAAKF,GACnDG,MAAMC,KACLC,EAAAA,GAAAA,IAAe,CACbzF,MAAO,UACPwB,QAAS,UACThI,KAAM,YAERiL,EAAmB5Q,OAAQ,CAAK,IAGpCyN,QAAQC,IAAI,OAAQwD,EAAWlR,MAAM,EDzCvC,MAAO,CAACyE,EAAU0F,KAChB,MAAM0H,GAAuBxH,EAAAA,EAAAA,IAAkB,aACzCyH,GAAsBzH,EAAAA,EAAAA,IAAkB,YACxCC,GAAqBD,EAAAA,EAAAA,IAAkB,WACvC0H,GAA0B1H,EAAAA,EAAAA,IAAkB,gBAC5C2H,GAAyB3H,EAAAA,EAAAA,IAAkB,eAC3C4H,GAAuB5H,EAAAA,EAAAA,IAAkB,aAE/C,OAAQI,EAAAA,EAAAA,OAAclG,EAAAA,EAAAA,IAAoBwH,EAAAA,GAAW,KAAM,EACzDzG,EAAAA,EAAAA,IAAoB,MAAOI,GAAY,EACrCJ,EAAAA,EAAAA,IAAoB,MAAOoC,GAAY,EACrCpC,EAAAA,EAAAA,IAAoB,MAAOqC,GAAY,EACrCrC,EAAAA,EAAAA,IAAoB,MAAOsC,GAAY,EACrCpH,EAAAA,EAAAA,IAAasR,EAAqB,CAChC7F,WAAY0E,EAAW3Q,MACvB,sBAAuBmK,EAAO,KAAOA,EAAO,GAAM+B,GAAkByE,EAAY3Q,MAAQkM,GACxFhH,MAAO,CAAC,MAAQ,MAAM,OAAS,OAAO,gBAAgB,OAAO,mBAAmB,4BAChF4J,YAAa,KACbnK,MAAO,qBACN,CACDuN,SAASnH,EAAAA,EAAAA,KAAS,IAAM,EACtBvK,EAAAA,EAAAA,IAAaqR,EAAsB,CAAEM,MAAMvH,EAAAA,EAAAA,IAAOwH,EAAAA,MAAW,KAAM,EAAG,CAAC,YAEzEhH,EAAG,GACF,EAAG,CAAC,gBACP9F,EAAAA,EAAAA,IAAoB,MAAOuC,GAAY,EACrCrH,EAAAA,EAAAA,IAAa8J,EAAoB,CAC/BxE,KAAM,KACNgF,QAAS+F,GACR,CACD9K,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBvK,EAAAA,EAAAA,KAAaoK,EAAAA,EAAAA,IAAOyH,EAAAA,SAEtBjH,EAAG,SAIT9F,EAAAA,EAAAA,IAAoB,MAAOwC,GAAY,EACrCtH,EAAAA,EAAAA,IAAauR,EAAyB,CACpCzL,OAAQ,OACRpB,MAAO,CAAC,MAAQ,SACf,CACDa,SAASgF,EAAAA,EAAAA,KAAS,IAAM,GACrBN,EAAAA,EAAAA,KAAW,IAAOlG,EAAAA,EAAAA,IAAoBwH,EAAAA,GAAW,MAAMoE,EAAAA,EAAAA,KAAYvF,EAAAA,EAAAA,IAAO6F,IAAmB6B,KACpF7H,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAa6H,EAAiB,CAClD1S,IAAKyS,EAAajK,eAClB,kBAAmBiK,EAAajK,eAChC,oBAAqBiK,EAAahK,iBAClC,YAAagK,EAAazH,KAC1B,eAAgByH,EAAa9J,aAC5B,KAAM,EAAG,CAAC,kBAAmB,oBAAqB,YAAa,oBAChE,SAEN4C,EAAG,WAKX9F,EAAAA,EAAAA,IAAoB,MAAOyC,GAAY,EACrCvH,EAAAA,EAAAA,IAAagS,SAGjBhS,EAAAA,EAAAA,IAAayR,EAAsB,CACjChG,WAAY2E,EAAmB5Q,MAC/B,sBAAuBmK,EAAO,KAAOA,EAAO,GAAM+B,GAAkB0E,EAAoB5Q,MAAQkM,GAChGC,MAAO,OACP9F,MAAO,QACPoM,OAAQ,IACP,CACDC,QAAQ3H,EAAAA,EAAAA,KAAS,IAAM,EACrBzF,EAAAA,EAAAA,IAAoB,MAAO0C,GAAY,EACrCxH,EAAAA,EAAAA,IAAaqR,EAAsB,CACjC/G,QAASX,EAAO,KAAOA,EAAO,GAAM+B,GAAiB0E,EAAmB5Q,OAAQ,IAC/E,CACD+F,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBG,EAAAA,EAAAA,IAAiB,SAEnBE,EAAG,KAEL5K,EAAAA,EAAAA,IAAaqR,EAAsB,CACjClM,KAAM,UACNmF,QAASwG,GACR,CACDvL,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBG,EAAAA,EAAAA,IAAiB,WAEnBE,EAAG,SAITrF,SAASgF,EAAAA,EAAAA,KAAS,IAAM,EACtBvK,EAAAA,EAAAA,IAAawR,EAAwB,CACnC/F,WAAYiF,EAAWlR,MACvB,sBAAuBmK,EAAO,KAAOA,EAAO,GAAM+B,GAAkBgF,EAAYlR,MAAQkM,GACxFyG,WAAY,GACZ,gBAAiBxB,EACjB,qBAAsB,KACtByB,KAAM9B,EAAe9Q,MACrB6S,OAAQ,CAAC,KAAM,SACfzS,MAAO,CAACP,IAAK,SACZ,KAAM,EAAG,CAAC,aAAc,YAE7BuL,EAAG,GACF,EAAG,CAAC,gBACN,GAAG,CAER,IE9KA,MAAM,GAAc,GAEpB,S","sources":["webpack://my-web-im/./node_modules/@ant-design/icons-svg/es/asn/VideoCameraOutlined.js","webpack://my-web-im/./node_modules/@ant-design/icons-vue/es/icons/VideoCameraOutlined.js","webpack://my-web-im/./node_modules/@ant-design/icons-svg/es/asn/WhatsAppOutlined.js","webpack://my-web-im/./node_modules/@ant-design/icons-vue/es/icons/WhatsAppOutlined.js","webpack://my-web-im/./node_modules/dayjs/plugin/localizedFormat.js","webpack://my-web-im/./node_modules/dayjs/plugin/relativeTime.js","webpack://my-web-im/./src/components/Avatar/Avatar.vue","webpack://my-web-im/./src/components/Avatar/Avatar.vue?180c","webpack://my-web-im/./src/utils/TimeUtil.js","webpack://my-web-im/./src/components/ConversationCar/ConversationCar.vue?cd3c","webpack://my-web-im/./src/components/ConversationCar/ConversationCar.vue","webpack://my-web-im/./src/components/ConversationCar/ConversationCar.vue?5965","webpack://my-web-im/./src/components/Profile/Profile.vue?9a4e","webpack://my-web-im/./src/components/Profile/Profile.vue","webpack://my-web-im/./src/components/TitleBar/TitleBar.vue?dc45","webpack://my-web-im/./src/components/TitleBar/TitleBar.vue","webpack://my-web-im/./src/components/TitleBar/TitleBar.vue?bc94","webpack://my-web-im/./src/components/ChatBubble/ChatBubble.vue?736d","webpack://my-web-im/./src/components/ChatBubble/ChatBubble.vue","webpack://my-web-im/./src/components/ChatBubble/ChatBubble.vue?a1f6","webpack://my-web-im/./src/components/Footer/Footer.vue?913d","webpack://my-web-im/./src/components/Footer/Footer.vue","webpack://my-web-im/./src/components/Footer/Footer.vue?2d7b","webpack://my-web-im/./src/components/ChatMessage/ChatMessage.vue?ad9f","webpack://my-web-im/./src/components/ChatMessage/ChatMessage.vue","webpack://my-web-im/./src/components/ChatMessage/ChatMessage.vue?7f36","webpack://my-web-im/./src/types/index.ts","webpack://my-web-im/./src/views/conversationPage/ConversationPage.vue?a8b2","webpack://my-web-im/./src/views/conversationPage/ConversationPage.vue","webpack://my-web-im/./src/views/conversationPage/ConversationPage.vue?6921"],"sourcesContent":["// This icon file is generated automatically.\nvar VideoCameraOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560zm176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z\" } }] }, \"name\": \"video-camera\", \"theme\": \"outlined\" };\nexport default VideoCameraOutlined;\n","import { createVNode as _createVNode } from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport VideoCameraOutlinedSvg from \"@ant-design/icons-svg/es/asn/VideoCameraOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar VideoCameraOutlined = function VideoCameraOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _createVNode(AntdIcon, _objectSpread({}, p, {\n    \"icon\": VideoCameraOutlinedSvg\n  }), null);\n};\n\nVideoCameraOutlined.displayName = 'VideoCameraOutlined';\nVideoCameraOutlined.inheritAttrs = false;\nexport default VideoCameraOutlined;","// This icon file is generated automatically.\nvar WhatsAppOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"defs\", \"attrs\": {}, \"children\": [{ \"tag\": \"style\", \"attrs\": {} }] }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M713.5 599.9c-10.9-5.6-65.2-32.2-75.3-35.8-10.1-3.8-17.5-5.6-24.8 5.6-7.4 11.1-28.4 35.8-35 43.3-6.4 7.4-12.9 8.3-23.8 2.8-64.8-32.4-107.3-57.8-150-131.1-11.3-19.5 11.3-18.1 32.4-60.2 3.6-7.4 1.8-13.7-1-19.3-2.8-5.6-24.8-59.8-34-81.9-8.9-21.5-18.1-18.5-24.8-18.9-6.4-.4-13.7-.4-21.1-.4-7.4 0-19.3 2.8-29.4 13.7-10.1 11.1-38.6 37.8-38.6 92s39.5 106.7 44.9 114.1c5.6 7.4 77.7 118.6 188.4 166.5 70 30.2 97.4 32.8 132.4 27.6 21.3-3.2 65.2-26.6 74.3-52.5 9.1-25.8 9.1-47.9 6.4-52.5-2.7-4.9-10.1-7.7-21-13z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M925.2 338.4c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z\" } }] }, \"name\": \"whats-app\", \"theme\": \"outlined\" };\nexport default WhatsAppOutlined;\n","import { createVNode as _createVNode } from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport WhatsAppOutlinedSvg from \"@ant-design/icons-svg/es/asn/WhatsAppOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar WhatsAppOutlined = function WhatsAppOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _createVNode(AntdIcon, _objectSpread({}, p, {\n    \"icon\": WhatsAppOutlinedSvg\n  }), null);\n};\n\nWhatsAppOutlined.displayName = 'WhatsAppOutlined';\nWhatsAppOutlined.inheritAttrs = false;\nexport default WhatsAppOutlined;","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_localizedFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};return function(t,o,n){var r=o.prototype,i=r.format;n.en.formats=e,r.format=function(t){void 0===t&&(t=\"YYYY-MM-DDTHH:mm:ssZ\");var o=this.$locale().formats,n=function(t,o){return t.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,o){return t||o.slice(1)}))}))}(t,void 0===o?{}:o);return i.call(this,n)}}}));","!function(r,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(r=\"undefined\"!=typeof globalThis?globalThis:r||self).dayjs_plugin_relativeTime=e()}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));","<template>\r\n  <div v-bind=\"$attrs\" :class=\"styledAvatar\">\r\n    <!-- 在线状态 -->\r\n    <div v-if=\"status\" :class=\"[statusIcon, status]\" :style=\"statusIconStyle\"></div>\r\n    <!-- 图片的圆形蒙层 -->\r\n    <div :style=\"avatarClipStyle\">\r\n      <img :src=\"src\" alt=\"\" class=\"avatar-image\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue';\r\n\r\nexport default {\r\n  props: {\r\n    src: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: '48px',\r\n    },\r\n    status: {\r\n      type: String,\r\n      validator: (value) => ['online', 'offline'].includes(value),\r\n    },\r\n    statusIconSize: {\r\n      type: String,\r\n      default: '8px',\r\n    },\r\n  },\r\n  setup(props) {\r\n    const styledAvatar = 'styled-avatar';\r\n    const avatarClipStyle = computed(() => ({\r\n      width: props.size,\r\n      height: props.size,\r\n      borderRadius: '50%',\r\n      overflow: 'hidden',\r\n    }));\r\n\r\n    const statusIcon = 'status-icon';\r\n\r\n    const statusIconStyle = computed(() => {\r\n      let baseStyle = {\r\n        position: 'absolute',\r\n        left: '2px',\r\n        top: '6px',\r\n        width: props.statusIconSize,\r\n        height: props.statusIconSize,\r\n        borderRadius: '50%',\r\n      };\r\n\r\n      if (props.status === 'online') {\r\n        baseStyle = {\r\n          ...baseStyle,\r\n          backgroundColor: '#34D859',\r\n        };\r\n      } else if (props.status === 'offline') {\r\n        baseStyle = {\r\n          ...baseStyle,\r\n          backgroundColor: 'rgba(24, 28, 47, 0.2)',\r\n        };\r\n      }\r\n\r\n      return baseStyle;\r\n    });\r\n\r\n    return {\r\n      styledAvatar,\r\n      avatarClipStyle,\r\n      statusIcon,\r\n      statusIconStyle,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.styled-avatar {\r\n  position: relative;\r\n}\r\n\r\n.status-icon::before {\r\n  content: '';\r\n  display: block;\r\n  position: absolute;\r\n  width: var(--status-icon-size);\r\n  height: var(--status-icon-size);\r\n  border-radius: 50%;\r\n  background-color: white;\r\n  transform: scale(2);\r\n}\r\n\r\n.avatar-clip {\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n}\r\n\r\n.avatar-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  object-position: center;\r\n}\r\n</style>\r\n","import { render } from \"./Avatar.vue?vue&type=template&id=64907781&scoped=true\"\nimport script from \"./Avatar.vue?vue&type=script&lang=js\"\nexport * from \"./Avatar.vue?vue&type=script&lang=js\"\n\nimport \"./Avatar.vue?vue&type=style&index=0&id=64907781&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-64907781\"]])\n\nexport default __exports__","const dayjs = require('dayjs');\r\nconst relativeTime = require('dayjs/plugin/relativeTime');\r\nconst localizedFormat = require('dayjs/plugin/localizedFormat');\r\n\r\ndayjs.extend(relativeTime);\r\ndayjs.extend(localizedFormat);\r\n\r\n/**\r\n * 计算和当前时间的时间差\r\n * @param {number} timestamp 历史时间戳（毫秒）\r\n * @returns {string} 格式化的时间差\r\n */\r\nexport function getTimeDifference(timestamp) {\r\n  const now = dayjs();\r\n  const past = dayjs(timestamp);\r\n\r\n  // 计算时间差\r\n  const diffMinutes = now.diff(past, 'minute');\r\n  const diffHours = now.diff(past, 'hour');\r\n  const diffDays = now.diff(past, 'day');\r\n\r\n  if (diffMinutes < 3) {\r\n    return '刚刚';\r\n  } if (diffMinutes < 60) {\r\n    return `${diffMinutes} 分钟前`;\r\n  } if (diffHours < 24) {\r\n    return `${diffHours} 小时前`;\r\n  } if (diffDays <= 3) {\r\n    return `${diffDays} 天前`;\r\n  }\r\n  return past.format('YYYY 年 M 月 D 日');\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createBlock as _createBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6d59b5c3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\"} }\nconst _hoisted_2 = { style: {\"display\":\"flex\"} }\nconst _hoisted_3 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"margin-left\":\"12px\"} }\nconst _hoisted_4 = { style: {\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"space-between\"} }\nconst _hoisted_5 = { style: {\"display\":\"flex\",\"justify-content\":\"space-between\",\"width\":\"100%\"} }\nconst _hoisted_6 = { key: 0 }\nconst _hoisted_7 = { style: {\"align-self\":\"flex-start\"} }\nconst _hoisted_8 = { style: {\"display\":\"flex\",\"justify-content\":\"space-between\",\"padding-top\":\"26px\"} }\nconst _hoisted_9 = {\n  key: 0,\n  style: {\"display\":\"flex\"}\n}\nconst _hoisted_10 = { key: 1 }\n\nimport Avatar from '@/components/Avatar/Avatar.vue';\r\nimport { Position } from '@element-plus/icons-vue';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\nimport { useConcatListStore } from '@/store/contactsList';\r\nimport { useMessageRecordStore } from '@/store/messageRecord';\r\nimport { storeToRefs } from 'pinia';\r\nimport { computed } from 'vue';\r\nimport { getTimeDifference } from '@/utils/TimeUtil';\r\n\r\nexport interface Props {\r\n  conversationId?: string\r\n  conversationType?: number,\r\n  targetId:string,\r\n  unreadCount: number,\r\n}\r\n\r\n// eslint-disable-next-line no-undef\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ConversationCar',\n  props: {\n    conversationId: { default: '' },\n    conversationType: { default: 0 },\n    targetId: { default: '' },\n    unreadCount: { default: 0 }\n  },\n  setup(__props: any) {\n\r\nconst props = __props;\r\n\r\nconst conversationSetStore = useConversationSetStore();\r\nconst { currentConversation } = storeToRefs(conversationSetStore);\r\nconst concatListStore = useConcatListStore();\r\nconst messageRecordStore = useMessageRecordStore();\r\n/**\r\n * 卡片点击回调，设置当前会话信息\r\n */\r\nconst handleClick = () => {\r\n  // 设置当前会话\r\n  conversationSetStore.setCurrentConversation(props.conversationId);\r\n  // 重置会话未读数为 0\r\n  conversationSetStore.resetP2PConversationUnreadCount(props.conversationId);\r\n  // 是否需要发送已读标识\r\n  if (props.unreadCount > 0) {\r\n    messageRecordStore.sendP2PMessageReadAck(props.targetId, props.conversationId);\r\n  }\r\n};\r\n\r\nconst conversationTitle = computed(() => {\r\n  if (props.conversationType === 0) {\r\n    const friendInfo = concatListStore.getFriendShip(props.targetId);\r\n    return friendInfo?.remark || friendInfo?.nickName;\r\n  }\r\n  return concatListStore.getGroupInfo(props.targetId)?.groupName;\r\n});\r\n// 使用计算属性\r\nconst avatarSrc = computed(() => {\r\n  let name: string | undefined = '';\r\n  if (props.conversationType === 0) {\r\n    const friendInfo = concatListStore.getFriendShip(props.targetId);\r\n    name = friendInfo?.nickName;\r\n  } else {\r\n    name = concatListStore.getGroupInfo(props.targetId)?.groupName;\r\n  }\r\n  return `https://robohash.org/${name}?set=set${props.conversationType === 0 ? '4' : '2'}&size=200x200`;\r\n});\r\n\r\nconst onlineStatus = computed(() => {\r\n  const status = concatListStore.getOnlineStatus(props.targetId);\r\n  if (status === 1) {\r\n    return 'online';\r\n  }\r\n  return 'offline';\r\n});\r\n\r\nconst lastMessage = computed(() => messageRecordStore.getLastMessage(props.targetId, props.conversationType));\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_text = _resolveComponent(\"el-text\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_badge = _resolveComponent(\"el-badge\")!\n  const _component_el_card = _resolveComponent(\"el-card\")!\n\n  return (_openBlock(), _createBlock(_component_el_card, {\n    style: {\"width\":\"99%\",\"margin\":\"3px  0\"},\n    shadow: \"hover\",\n    class: _normalizeClass({'car-container-click' : _ctx.targetId === _unref(currentConversation)?.toId}),\n    onClick: handleClick\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(Avatar, {\n            src: avatarSrc.value,\n            status: onlineStatus.value,\n            size: \"42px\",\n            statusIconSize: props.conversationType === 0 ? '10px' : '0'\n          }, null, 8, [\"src\", \"status\", \"statusIconSize\"]),\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createVNode(_component_el_text, {\n                  class: \"mx-1\",\n                  type: \"primary\",\n                  style: {\"align-self\":\"flex-start\",\"max-width\":\"180px\"},\n                  size: \"large\",\n                  truncated: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(conversationTitle.value), 1)\n                  ]),\n                  _: 1\n                }),\n                (lastMessage.value)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(_unref(getTimeDifference)(lastMessage.value?.messageTime)), 1))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_7, [\n              (props.conversationType === 0)\n                ? (_openBlock(), _createBlock(_component_el_text, {\n                    key: 0,\n                    class: \"mx-1\",\n                    type: onlineStatus.value === 'online' ? 'success' : 'info',\n                    size: \"small\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(onlineStatus.value === 'online' ? '在线' : '离线'), 1)\n                    ]),\n                    _: 1\n                  }, 8, [\"type\"]))\n                : _createCommentVNode(\"\", true)\n            ])\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, [\n          (lastMessage.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                _createVNode(_component_el_icon, {\n                  style: {\"margin-right\":\"5px\",\"color\":\"#179adb\"},\n                  class: _normalizeClass({'rotate-180': !lastMessage.value?.isMe})\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(Position))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"]),\n                _createVNode(_component_el_text, {\n                  type: \"info\",\n                  size: \"large\",\n                  \"line-clamp\": \"1\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(lastMessage.value.messageBody), 1)\n                  ]),\n                  _: 1\n                })\n              ]))\n            : _createCommentVNode(\"\", true),\n          (_ctx.unreadCount > 0)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                _createVNode(_component_el_badge, {\n                  value: props.unreadCount,\n                  class: \"item\",\n                  offset: \"[5,10]\"\n                }, null, 8, [\"value\"])\n              ]))\n            : _createCommentVNode(\"\", true)\n        ])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"class\"]))\n}\n}\n\n})","<template>\r\n  <el-card style=\"width: 99%; margin: 3px  0\" shadow=\"hover\" :class=\"{'car-container-click' : targetId === currentConversation?.toId}\" @click=\"handleClick\">\r\n    <div style=\"display: flex;flex-direction: column\">\r\n      <div style=\"display: flex\">\r\n        <Avatar :src='avatarSrc' :status='onlineStatus' size=\"42px\" :statusIconSize=\"props.conversationType === 0 ? '10px' : '0'\"></Avatar>\r\n        <div style=\"display: flex;flex-direction: column;justify-content: space-between;width: 100%;margin-left: 12px\">\r\n          <div style=\"width: 100%;display: flex;justify-content: space-between\">\r\n            <div style=\"display: flex;justify-content: space-between;width: 100%\">\r\n              <el-text class=\"mx-1\" type=\"primary\" style=\"align-self: flex-start;max-width: 180px\" size=\"large\" truncated>\r\n                {{ conversationTitle }}\r\n              </el-text>\r\n              <div v-if=\"lastMessage\">{{getTimeDifference(lastMessage?.messageTime)}}</div>\r\n            </div>\r\n          </div>\r\n          <div style=\"align-self: flex-start\">\r\n            <el-text class=\"mx-1\" :type=\"onlineStatus === 'online' ? 'success' : 'info'\" size=\"small\" v-if=\"props.conversationType === 0\">\r\n              {{onlineStatus === 'online' ? '在线' : '离线'}}\r\n            </el-text>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div style=\"display: flex;justify-content: space-between; padding-top: 26px\">\r\n        <div style=\"display: flex;\" v-if=\"lastMessage\">\r\n          <el-icon style=\"margin-right: 5px; color: #179adb\" :class=\"{'rotate-180': !lastMessage?.isMe}\">\r\n            <Position />\r\n          </el-icon>\r\n          <el-text type=\"info\" size=\"large\" line-clamp=\"1\">{{lastMessage.messageBody}}</el-text>\r\n        </div>\r\n        <div v-if=\"unreadCount > 0\">\r\n          <el-badge :value=\"props.unreadCount\" class=\"item\" offset=[5,10] ></el-badge>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport Avatar from '@/components/Avatar/Avatar.vue';\r\nimport { Position } from '@element-plus/icons-vue';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\nimport { useConcatListStore } from '@/store/contactsList';\r\nimport { useMessageRecordStore } from '@/store/messageRecord';\r\nimport { storeToRefs } from 'pinia';\r\nimport { computed } from 'vue';\r\nimport { getTimeDifference } from '@/utils/TimeUtil';\r\n\r\nexport interface Props {\r\n  conversationId?: string\r\n  conversationType?: number,\r\n  targetId:string,\r\n  unreadCount: number,\r\n}\r\n\r\n// eslint-disable-next-line no-undef\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  conversationId: '',\r\n  conversationType: 0,\r\n  targetId: '',\r\n  unreadCount: 0,\r\n});\r\n\r\nconst conversationSetStore = useConversationSetStore();\r\nconst { currentConversation } = storeToRefs(conversationSetStore);\r\nconst concatListStore = useConcatListStore();\r\nconst messageRecordStore = useMessageRecordStore();\r\n/**\r\n * 卡片点击回调，设置当前会话信息\r\n */\r\nconst handleClick = () => {\r\n  // 设置当前会话\r\n  conversationSetStore.setCurrentConversation(props.conversationId);\r\n  // 重置会话未读数为 0\r\n  conversationSetStore.resetP2PConversationUnreadCount(props.conversationId);\r\n  // 是否需要发送已读标识\r\n  if (props.unreadCount > 0) {\r\n    messageRecordStore.sendP2PMessageReadAck(props.targetId, props.conversationId);\r\n  }\r\n};\r\n\r\nconst conversationTitle = computed(() => {\r\n  if (props.conversationType === 0) {\r\n    const friendInfo = concatListStore.getFriendShip(props.targetId);\r\n    return friendInfo?.remark || friendInfo?.nickName;\r\n  }\r\n  return concatListStore.getGroupInfo(props.targetId)?.groupName;\r\n});\r\n// 使用计算属性\r\nconst avatarSrc = computed(() => {\r\n  let name: string | undefined = '';\r\n  if (props.conversationType === 0) {\r\n    const friendInfo = concatListStore.getFriendShip(props.targetId);\r\n    name = friendInfo?.nickName;\r\n  } else {\r\n    name = concatListStore.getGroupInfo(props.targetId)?.groupName;\r\n  }\r\n  return `https://robohash.org/${name}?set=set${props.conversationType === 0 ? '4' : '2'}&size=200x200`;\r\n});\r\n\r\nconst onlineStatus = computed(() => {\r\n  const status = concatListStore.getOnlineStatus(props.targetId);\r\n  if (status === 1) {\r\n    return 'online';\r\n  }\r\n  return 'offline';\r\n});\r\n\r\nconst lastMessage = computed(() => messageRecordStore.getLastMessage(props.targetId, props.conversationType));\r\n</script>\r\n\r\n<style scoped>\r\n.car-container-click {\r\n  background-color: #efece8;\r\n}\r\n\r\n.rotate-180 {\r\n  transform: rotate(180deg);\r\n}\r\n</style>\r\n","import script from \"./ConversationCar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ConversationCar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ConversationCar.vue?vue&type=style&index=0&id=6d59b5c3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6d59b5c3\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f2a3fcd6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"styled-profile\" }\n\nimport profileImage from '@/components/Avatar/demo.jpg';\r\nimport Avatar from '@/components/Avatar/Avatar.vue';\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Profile',\n  setup(__props) {\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Avatar, {\n      src: _unref(profileImage),\n      class: \"avatar-style\",\n      size: \"130px\",\n      status: \"online\",\n      statusIconSize: \"0px\"\n    }, null, 8, [\"src\"])\n  ]))\n}\n}\n\n})","import script from \"./Profile.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Profile.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=f2a3fcd6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f2a3fcd6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createElementVNode as _createElementVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-63410aa0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"styled-title-bar\" }\nconst _hoisted_2 = { style: {\"display\":\"flex\",\"height\":\"64px\",\"width\":\"100%\",\"flex\":\"1\"} }\nconst _hoisted_3 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\",\"margin-left\":\"10px\"} }\nconst _hoisted_4 = { style: {\"align-self\":\"flex-start\",\"margin-top\":\"5px\"} }\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = { style: {\"display\":\"flex\",\"width\":\"200px\",\"justify-content\":\"space-around\",\"align-items\":\"center\"} }\n\nimport Avatar from '@/components/Avatar/Avatar.vue';\r\nimport { useMessageRecordStore } from '@/store/messageRecord';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\nimport { useConcatListStore } from '@/store/contactsList';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport {\r\n  WhatsAppOutlined,\r\n  VideoCameraOutlined,\r\n  EllipsisOutlined,\r\n} from '@ant-design/icons-vue';\r\nimport { computed, ref } from 'vue';\r\nimport Profile from '@/components/Profile/Profile.vue';\r\nimport { storeToRefs } from 'pinia';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TitleBar',\n  setup(__props) {\n\r\nconst messageRecordStore = useMessageRecordStore();\r\nconst conversationSetStore = useConversationSetStore();\r\nconst concatListStore = useConcatListStore();\r\n\r\nconst showUserInfoFlag = ref(false);\r\nconst { currentConversation } = storeToRefs(conversationSetStore);\r\nfunction showUserInfo() {\r\n  showUserInfoFlag.value = true;\r\n}\r\n\r\n// 使用计算属性\r\nconst avatarSrc = computed(() => {\r\n  let name: string | undefined = '';\r\n  if (currentConversation.value?.conversationType === 0) {\r\n    const friendInfo = concatListStore.getFriendShip(currentConversation.value.toId);\r\n    name = friendInfo?.nickName;\r\n  } else if (currentConversation.value?.conversationType === 1) {\r\n    name = concatListStore.getGroupInfo(currentConversation.value.toId)?.groupName;\r\n  }\r\n  return `https://robohash.org/${name}?set=set${currentConversation.value?.conversationType === 0 ? '4' : '2'}&size=200x200`;\r\n});\r\n\r\nconst nickName = computed(() => {\r\n  let name: string | undefined = '';\r\n  if (currentConversation.value?.conversationType === 0) {\r\n    const friendInfo = concatListStore.getFriendShip(currentConversation.value.toId);\r\n    name = friendInfo?.remark || friendInfo?.nickName;\r\n  } else if (currentConversation.value?.conversationType === 1) {\r\n    name = concatListStore.getGroupInfo(currentConversation.value.toId)?.groupName;\r\n  }\r\n  return name;\r\n});\r\n\r\n// eslint-disable-next-line max-len\r\nconst onlineStatus = computed(() => concatListStore.getOnlineStatus(currentConversation.value.toId));\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_text = _resolveComponent(\"el-text\")!\n  const _component_el_drawer = _resolveComponent(\"el-drawer\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(Avatar, {\n          src: avatarSrc.value,\n          status: \"online\",\n          size: \"64px\",\n          statusIconSize: \"0px\",\n          onClick: showUserInfo\n        }, null, 8, [\"src\"]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(_component_el_text, {\n              class: \"mx-1\",\n              size: \"large\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(nickName.value), 1)\n              ]),\n              _: 1\n            })\n          ]),\n          (_unref(currentConversation)?.conversationType === 0)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(`${onlineStatus.value === 1? '在线' : '离线'} · 最后阅读 · 三小时前`), 1))\n            : _createCommentVNode(\"\", true)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createVNode(_unref(WhatsAppOutlined), { style: {\"fontSize\":\"42px\"} }),\n        _createVNode(_unref(VideoCameraOutlined), { style: {\"fontSize\":\"42px\"} }),\n        _createVNode(_unref(EllipsisOutlined), { style: {\"fontSize\":\"42px\"} })\n      ])\n    ]),\n    _createVNode(_component_el_drawer, {\n      modelValue: showUserInfoFlag.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((showUserInfoFlag).value = $event)),\n      title: \"好友资料详情\",\n      direction: \"rtl\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(Profile)\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ], 64))\n}\n}\n\n})","<script setup lang=\"ts\">\r\nimport Avatar from '@/components/Avatar/Avatar.vue';\r\nimport { useMessageRecordStore } from '@/store/messageRecord';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\nimport { useConcatListStore } from '@/store/contactsList';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport {\r\n  WhatsAppOutlined,\r\n  VideoCameraOutlined,\r\n  EllipsisOutlined,\r\n} from '@ant-design/icons-vue';\r\nimport { computed, ref } from 'vue';\r\nimport Profile from '@/components/Profile/Profile.vue';\r\nimport { storeToRefs } from 'pinia';\r\n\r\nconst messageRecordStore = useMessageRecordStore();\r\nconst conversationSetStore = useConversationSetStore();\r\nconst concatListStore = useConcatListStore();\r\n\r\nconst showUserInfoFlag = ref(false);\r\nconst { currentConversation } = storeToRefs(conversationSetStore);\r\nfunction showUserInfo() {\r\n  showUserInfoFlag.value = true;\r\n}\r\n\r\n// 使用计算属性\r\nconst avatarSrc = computed(() => {\r\n  let name: string | undefined = '';\r\n  if (currentConversation.value?.conversationType === 0) {\r\n    const friendInfo = concatListStore.getFriendShip(currentConversation.value.toId);\r\n    name = friendInfo?.nickName;\r\n  } else if (currentConversation.value?.conversationType === 1) {\r\n    name = concatListStore.getGroupInfo(currentConversation.value.toId)?.groupName;\r\n  }\r\n  return `https://robohash.org/${name}?set=set${currentConversation.value?.conversationType === 0 ? '4' : '2'}&size=200x200`;\r\n});\r\n\r\nconst nickName = computed(() => {\r\n  let name: string | undefined = '';\r\n  if (currentConversation.value?.conversationType === 0) {\r\n    const friendInfo = concatListStore.getFriendShip(currentConversation.value.toId);\r\n    name = friendInfo?.remark || friendInfo?.nickName;\r\n  } else if (currentConversation.value?.conversationType === 1) {\r\n    name = concatListStore.getGroupInfo(currentConversation.value.toId)?.groupName;\r\n  }\r\n  return name;\r\n});\r\n\r\n// eslint-disable-next-line max-len\r\nconst onlineStatus = computed(() => concatListStore.getOnlineStatus(currentConversation.value.toId));\r\n</script>\r\n\r\n<template>\r\n  <div class=\"styled-title-bar\">\r\n    <div style=\"display: flex;height: 64px;width: 100%;flex: 1\">\r\n      <Avatar :src=\"avatarSrc\" status='online' size=\"64px\" statusIconSize=\"0px\" @click=\"showUserInfo\"></Avatar>\r\n      <div style=\"display: flex;flex-direction: column;justify-content: space-between;margin-left: 10px\">\r\n        <div style=\"align-self: flex-start;margin-top: 5px\">\r\n          <el-text class=\"mx-1\" size=\"large\">{{nickName}}</el-text>\r\n        </div>\r\n        <div v-if=\"currentConversation?.conversationType === 0\">\r\n          {{`${onlineStatus === 1? '在线' : '离线'} · 最后阅读 · 三小时前`}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div style=\"display: flex;width: 200px;justify-content: space-around;align-items: center\">\r\n      <WhatsAppOutlined style=\"fontSize:42px\"/>\r\n      <VideoCameraOutlined style=\"fontSize:42px\"/>\r\n      <EllipsisOutlined style=\"fontSize:42px\"/>\r\n    </div>\r\n  </div>\r\n  <el-drawer\r\n    v-model=\"showUserInfoFlag\"\r\n    title=\"好友资料详情\"\r\n    direction=\"rtl\"\r\n  >\r\n    <Profile/>\r\n  </el-drawer>\r\n</template>\r\n\r\n<style scoped>\r\n.styled-title-bar {\r\n  display: flex;\r\n  padding: 20px;\r\n  max-height: 110px;\r\n  border-bottom: 1px solid #EFECE8;\r\n  justify-content: space-between;\r\n}\r\n</style>\r\n","import script from \"./TitleBar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TitleBar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TitleBar.vue?vue&type=style&index=0&id=63410aa0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-63410aa0\"]])\n\nexport default __exports__","import { useCssVars as _useCssVars, unref as _unref, defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, renderSlot as _renderSlot, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e7cae06c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  style: {\"margin\":\"12px\"}\n}\nconst _hoisted_2 = { class: \"styled-chat-bubble\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"chat-bubble-nick-name\"\n}\nconst _hoisted_4 = { class: \"bubble\" }\nconst _hoisted_5 = { class: \"message-time\" }\nconst _hoisted_6 = {\n  key: 1,\n  style: {\"margin\":\"12px\"}\n}\n\nimport Avatar from '@/components/Avatar/Avatar.vue';\r\nimport { computed } from 'vue';\r\nimport { useConcatListStore } from '@/store/contactsList';\r\nimport { useUserInfoStore } from '@/store/userInfo';\r\n\r\ninterface Props {\r\n  type?: 'mine' | 'other'; // 限制 type 只能是 'mine' 或 'other'\r\n  time?: string;\r\n  conversationType: number;\r\n  targetId: string;\r\n  fromId: string;\r\n  messageStatus: number;\r\n}\r\n\r\n// eslint-disable-next-line no-undef\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChatBubble',\n  props: {\n    type: { default: 'mine' },\n    time: { default: '' },\n    conversationType: { default: 0 },\n    targetId: { default: '' },\n    fromId: { default: '' },\n    messageStatus: { default: 0 }\n  },\n  setup(__props: any) {\n\n_useCssVars(_ctx => ({\n  \"5b709a5a\": (_unref(alignSelf)),\n  \"297178ba\": (_unref(textAlign)),\n  \"0b9e6f36\": (_unref(fontColor)),\n  \"320aaf92\": (_unref(backgroundColor))\n}))\n\r\nconst props = __props;\r\n\r\nconst backgroundColor = props.type === 'mine' ? '#4F9DDE' : '#F5F8FA';\r\nconst fontColor = props.type === 'mine' ? '#FFFFFF' : '#181C2F';\r\nconst alignSelf = props.type === 'mine' ? 'flex-end' : 'flex-start';\r\nconst textAlign = props.type === 'mine' ? 'end' : 'start';\r\nconst conversationStore = useConcatListStore();\r\nconst userInfoStore = useUserInfoStore();\r\n\r\nconst nickName = computed(() => {\r\n  if (props.conversationType === 1) {\r\n    return conversationStore.getMemberNickName(props.targetId, props.fromId);\r\n  }\r\n  return '';\r\n});\r\n\r\nconst msgStatus = computed(() => {\r\n  if (props.type === 'other') {\r\n    return '已读';\r\n  }\r\n  switch (props.messageStatus) {\r\n    case 0:\r\n      return '发送中';\r\n    case 1:\r\n      return '已发送';\r\n    case 2:\r\n      return '已送达';\r\n    case 3:\r\n      return '已读';\r\n    default:\r\n      return '';\r\n  }\r\n});\r\n\r\n// 使用计算属性\r\nconst avatarSrc = computed(() => {\r\n  let name:any = '';\r\n  if (props.type === 'mine') {\r\n    name = userInfoStore.userInfo.nickName;\r\n  } else if (props.conversationType === 1) {\r\n    name = conversationStore.getMemberNickName(props.targetId, props.fromId);\r\n  } else {\r\n    name = conversationStore.getFriendShip(props.targetId)?.nickName;\r\n  }\r\n  return `https://robohash.org/${name}?set=set4&size=200x200`;\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_text = _resolveComponent(\"el-text\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"chat-bubble-container\", {'chat-bubble-left': props.type === 'other', 'chat-bubble-right': props.type === 'mine'}])\n  }, [\n    (props.type !== 'mine')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createVNode(Avatar, {\n            src: avatarSrc.value,\n            status: \"online\",\n            size: \"40px\",\n            statusIconSize: \"0px\"\n          }, null, 8, [\"src\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (props.conversationType === 1)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            _createVNode(_component_el_text, null, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(nickName.value), 1)\n              ]),\n              _: 1\n            })\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(_component_el_text, {\n          size: \"large\",\n          style: {\"color\":\"#2c3e50\"}\n        }, {\n          default: _withCtx(() => [\n            _renderSlot(_ctx.$slots, \"default\", {}, () => [\n              _createTextVNode(\"消息内容\")\n            ])\n          ]),\n          _: 3\n        })\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, _toDisplayString(props.conversationType === 0 ? `${_ctx.time} ${msgStatus.value}` :_ctx.time), 1)\n    ]),\n    (props.type === 'mine')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n          _createVNode(Avatar, {\n            src: avatarSrc.value,\n            status: \"online\",\n            size: \"40px\",\n            statusIconSize: \"0px\"\n          }, null, 8, [\"src\"])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ], 2))\n}\n}\n\n})","<script setup lang=\"ts\">\r\nimport Avatar from '@/components/Avatar/Avatar.vue';\r\nimport { computed } from 'vue';\r\nimport { useConcatListStore } from '@/store/contactsList';\r\nimport { useUserInfoStore } from '@/store/userInfo';\r\n\r\ninterface Props {\r\n  type?: 'mine' | 'other'; // 限制 type 只能是 'mine' 或 'other'\r\n  time?: string;\r\n  conversationType: number;\r\n  targetId: string;\r\n  fromId: string;\r\n  messageStatus: number;\r\n}\r\n\r\n// eslint-disable-next-line no-undef\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  type: 'mine',\r\n  time: '',\r\n  conversationType: 0,\r\n  targetId: '',\r\n  fromId: '',\r\n  messageStatus: 0,\r\n});\r\n\r\nconst backgroundColor = props.type === 'mine' ? '#4F9DDE' : '#F5F8FA';\r\nconst fontColor = props.type === 'mine' ? '#FFFFFF' : '#181C2F';\r\nconst alignSelf = props.type === 'mine' ? 'flex-end' : 'flex-start';\r\nconst textAlign = props.type === 'mine' ? 'end' : 'start';\r\nconst conversationStore = useConcatListStore();\r\nconst userInfoStore = useUserInfoStore();\r\n\r\nconst nickName = computed(() => {\r\n  if (props.conversationType === 1) {\r\n    return conversationStore.getMemberNickName(props.targetId, props.fromId);\r\n  }\r\n  return '';\r\n});\r\n\r\nconst msgStatus = computed(() => {\r\n  if (props.type === 'other') {\r\n    return '已读';\r\n  }\r\n  switch (props.messageStatus) {\r\n    case 0:\r\n      return '发送中';\r\n    case 1:\r\n      return '已发送';\r\n    case 2:\r\n      return '已送达';\r\n    case 3:\r\n      return '已读';\r\n    default:\r\n      return '';\r\n  }\r\n});\r\n\r\n// 使用计算属性\r\nconst avatarSrc = computed(() => {\r\n  let name:any = '';\r\n  if (props.type === 'mine') {\r\n    name = userInfoStore.userInfo.nickName;\r\n  } else if (props.conversationType === 1) {\r\n    name = conversationStore.getMemberNickName(props.targetId, props.fromId);\r\n  } else {\r\n    name = conversationStore.getFriendShip(props.targetId)?.nickName;\r\n  }\r\n  return `https://robohash.org/${name}?set=set4&size=200x200`;\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"chat-bubble-container\"\r\n    :class=\"{'chat-bubble-left': props.type === 'other', 'chat-bubble-right': props.type === 'mine'}\">\r\n    <div v-if=\"props.type !== 'mine'\" style=\"margin: 12px\">\r\n      <Avatar :src='avatarSrc' status='online' size=\"40px\" statusIconSize=\"0px\"></Avatar>\r\n    </div>\r\n    <div class=\"styled-chat-bubble\">\r\n      <div class=\"chat-bubble-nick-name\" v-if=\"props.conversationType === 1\">\r\n        <el-text>\r\n          {{nickName}}\r\n        </el-text>\r\n      </div>\r\n      <div class=\"bubble\">\r\n        <el-text size=\"large\" style=\"color: #2c3e50\">\r\n          <slot>消息内容</slot>\r\n        </el-text>\r\n      </div>\r\n      <div class=\"message-time\">\r\n        {{props.conversationType === 0 ? `${time} ${msgStatus}` :time }}\r\n      </div>\r\n    </div>\r\n    <div v-if=\"props.type === 'mine'\" style=\"margin: 12px\">\r\n      <Avatar :src='avatarSrc' status='online' size=\"40px\" statusIconSize=\"0px\"></Avatar>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n.chat-bubble-container {\r\n  display: flex;\r\n  justify-content: v-bind(alignSelf);\r\n}\r\n\r\n.chat-bubble-nick-name {\r\n  text-align: v-bind(textAlign);\r\n  margin-bottom: 5px;\r\n}\r\n.styled-chat-bubble {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-self: v-bind(alignSelf);\r\n  margin: 10px;\r\n}\r\n\r\n.bubble {\r\n  /* padding 上下 15  左右 22  */\r\n  padding: 15px 22px;\r\n  /* 设置的边框阴影 */\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\r\n  color: v-bind(fontColor);\r\n  /* 设置边框圆角 */\r\n  border-radius: 10px;\r\n  position: relative;\r\n  /* 样式显示优先级 */\r\n  z-index: 10;\r\n  align-self: v-bind(alignSelf);\r\n  background-color: v-bind(backgroundColor);\r\n}\r\n\r\n.message-time {\r\n  margin: 6px 2px 6px 2px;\r\n  word-spacing: 1rem;\r\n  font-size: 0.8rem;\r\n  color: rgba(33, 33, 33, 0.58);\r\n  opacity: 0.6;\r\n  align-self: v-bind(alignSelf);\r\n}\r\n\r\n.chat-bubble-left {\r\n  margin-right: 70px;\r\n}\r\n\r\n.chat-bubble-right {\r\n  margin-left: 70px;\r\n}\r\n</style>\r\n","import script from \"./ChatBubble.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChatBubble.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ChatBubble.vue?vue&type=style&index=0&id=e7cae06c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e7cae06c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, withKeys as _withKeys, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3de1e1c3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"styled-footer\" }\n\nimport { inject, ref } from 'vue';\r\nimport { Promotion } from '@element-plus/icons-vue';\r\nimport { ElMessage } from 'element-plus';\r\nimport { useMessageRecordStore } from '@/store/messageRecord';\r\nimport { GroupMessageRecord, type MessageRecord } from '@/types';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Footer',\n  setup(__props) {\n\r\nconst ImSdk = inject<any>('ImSdk');\r\nconst inputText = ref('');\r\nconst messageRecordStore = useMessageRecordStore();\r\nconst conversationSetStore = useConversationSetStore();\r\nfunction onSearch(value: string) {\r\n  console.log('send', conversationSetStore.currentConversation.conversationType);\r\n  if (!value) {\r\n    ElMessage({\r\n      message: '不能发送空白消息！',\r\n      type: 'warning',\r\n    });\r\n    return;\r\n  }\r\n  console.log('接受方：', conversationSetStore.currentConversation.toId);\r\n  // 发送完成之后文本置空\r\n  inputText.value = '';\r\n  if (conversationSetStore.currentConversation.conversationType === 0) {\r\n    debugger;\r\n    // eslint-disable-next-line max-len\r\n    const message = ImSdk.createP2PTextMessage(conversationSetStore.currentConversation.toId, value);\r\n    // 发送单聊消息\r\n    console.log('发送单聊消息');\r\n    ImSdk.sendP2PMessage(message);\r\n    const messageRecord: MessageRecord = {\r\n      clientType: 1,\r\n      messageKey: message.messageKey,\r\n      messageId: message.messageId,\r\n      messageRandom: message.messageRandom,\r\n      messageTime: message.messageTime,\r\n      fromId: message.fromId,\r\n      toId: message.toId,\r\n      messageBody: JSON.parse(message.messageBody).content,\r\n      /* json 格式 */\r\n      messageType: 1,\r\n      messageStatus: 0,\r\n      isMe: true,\r\n    };\r\n    // eslint-disable-next-line max-len\r\n    messageRecordStore.addMessageRecord(conversationSetStore.currentConversation.toId, messageRecord);\r\n  } else {\r\n    console.log('发送群聊消息');\r\n    debugger;\r\n    // 构建群聊消息\r\n    // eslint-disable-next-line max-len\r\n    const message = ImSdk.createGroupTextMessage(conversationSetStore.currentConversation.toId, value);\r\n    ImSdk.sendGroupMessage(message);\r\n    const messageRecord: GroupMessageRecord = {\r\n      clientType: 1,\r\n      messageKey: message.messageKey,\r\n      messageId: message.messageId,\r\n      messageRandom: message.messageRandom,\r\n      messageTime: message.messageTime,\r\n      fromId: message.fromId,\r\n      toId: message.toId,\r\n      messageBody: JSON.parse(message.messageBody).content,\r\n      /* json 格式 */\r\n      messageType: 1,\r\n      messageStatus: 0,\r\n      isMe: true,\r\n    };\r\n    // eslint-disable-next-line max-len\r\n    messageRecordStore.addGroupMessageRecord(conversationSetStore.currentConversation.toId, messageRecord);\r\n  }\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_a_input = _resolveComponent(\"a-input\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_a_input, {\n      value: inputText.value,\n      \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((inputText).value = $event)),\n      bordered: false,\n      placeholder: \"请输入你想和 ta 说的话\",\n      size: \"large\",\n      onKeyup: _cache[2] || (_cache[2] = _withKeys(($event: any) => (onSearch(inputText.value)), [\"enter\"]))\n    }, {\n      suffix: _withCtx(() => [\n        _createVNode(_component_el_icon, {\n          style: {\"font-size\":\"40px\"},\n          color: \"#4F9DDE\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (onSearch(inputText.value)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Promotion), { class: \"suffix-icon\" })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"value\"])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\r\nimport { inject, ref } from 'vue';\r\nimport { Promotion } from '@element-plus/icons-vue';\r\nimport { ElMessage } from 'element-plus';\r\nimport { useMessageRecordStore } from '@/store/messageRecord';\r\nimport { GroupMessageRecord, type MessageRecord } from '@/types';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\n\r\nconst ImSdk = inject<any>('ImSdk');\r\nconst inputText = ref('');\r\nconst messageRecordStore = useMessageRecordStore();\r\nconst conversationSetStore = useConversationSetStore();\r\nfunction onSearch(value: string) {\r\n  console.log('send', conversationSetStore.currentConversation.conversationType);\r\n  if (!value) {\r\n    ElMessage({\r\n      message: '不能发送空白消息！',\r\n      type: 'warning',\r\n    });\r\n    return;\r\n  }\r\n  console.log('接受方：', conversationSetStore.currentConversation.toId);\r\n  // 发送完成之后文本置空\r\n  inputText.value = '';\r\n  if (conversationSetStore.currentConversation.conversationType === 0) {\r\n    debugger;\r\n    // eslint-disable-next-line max-len\r\n    const message = ImSdk.createP2PTextMessage(conversationSetStore.currentConversation.toId, value);\r\n    // 发送单聊消息\r\n    console.log('发送单聊消息');\r\n    ImSdk.sendP2PMessage(message);\r\n    const messageRecord: MessageRecord = {\r\n      clientType: 1,\r\n      messageKey: message.messageKey,\r\n      messageId: message.messageId,\r\n      messageRandom: message.messageRandom,\r\n      messageTime: message.messageTime,\r\n      fromId: message.fromId,\r\n      toId: message.toId,\r\n      messageBody: JSON.parse(message.messageBody).content,\r\n      /* json 格式 */\r\n      messageType: 1,\r\n      messageStatus: 0,\r\n      isMe: true,\r\n    };\r\n    // eslint-disable-next-line max-len\r\n    messageRecordStore.addMessageRecord(conversationSetStore.currentConversation.toId, messageRecord);\r\n  } else {\r\n    console.log('发送群聊消息');\r\n    debugger;\r\n    // 构建群聊消息\r\n    // eslint-disable-next-line max-len\r\n    const message = ImSdk.createGroupTextMessage(conversationSetStore.currentConversation.toId, value);\r\n    ImSdk.sendGroupMessage(message);\r\n    const messageRecord: GroupMessageRecord = {\r\n      clientType: 1,\r\n      messageKey: message.messageKey,\r\n      messageId: message.messageId,\r\n      messageRandom: message.messageRandom,\r\n      messageTime: message.messageTime,\r\n      fromId: message.fromId,\r\n      toId: message.toId,\r\n      messageBody: JSON.parse(message.messageBody).content,\r\n      /* json 格式 */\r\n      messageType: 1,\r\n      messageStatus: 0,\r\n      isMe: true,\r\n    };\r\n    // eslint-disable-next-line max-len\r\n    messageRecordStore.addGroupMessageRecord(conversationSetStore.currentConversation.toId, messageRecord);\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"styled-footer\">\r\n    <a-input\r\n      v-model:value=\"inputText\"\r\n      :bordered=\"false\"\r\n      placeholder=\"请输入你想和 ta 说的话\"\r\n      size=\"large\"\r\n      @keyup.enter=\"onSearch(inputText)\"\r\n    >\r\n      <template #suffix>\r\n        <el-icon style=\"font-size: 40px\" color=\"#4F9DDE\" @click=\"onSearch(inputText)\">\r\n          <Promotion class=\"suffix-icon\"/>\r\n        </el-icon>\r\n      </template>\r\n    </a-input>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n.styled-footer {\r\n  padding: 12px 30px;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  border-radius: 24px;\r\n  background-color: rgba(241, 237, 237, 0.3);\r\n}\r\n\r\n.suffix-icon {\r\n  cursor: pointer;\r\n  transform: scale(1);\r\n  transition: 0.4s;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);\r\n  }\r\n}\r\n\r\n</style>\r\n","import script from \"./Footer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Footer.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=3de1e1c3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3de1e1c3\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3fe8d198\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"styled-conversation\" }\nconst _hoisted_2 = { style: {\"width\":\"100%\"} }\nconst _hoisted_3 = { style: {\"flex\":\"1\",\"overflow-y\":\"auto\"} }\n\nimport TitleBar from '@/components/TitleBar/TitleBar.vue';\r\nimport ChatBubble from '@/components/ChatBubble/ChatBubble.vue';\r\nimport Footer from '@/components/Footer/Footer.vue';\r\nimport { useMessageRecordStore } from '@/store/messageRecord';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\nimport { storeToRefs } from 'pinia';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport dayjs from 'dayjs';\r\nimport {\r\n  computed, nextTick, onMounted, ref, watch,\r\n} from 'vue';\r\nimport { ElScrollbar } from 'element-plus';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChatMessage',\n  setup(__props) {\n\r\nconst messageRecordStore = useMessageRecordStore();\r\nconst conversationSetStore = useConversationSetStore();\r\nconst { currentConversation } = storeToRefs(conversationSetStore);\r\n\r\nfunction fetchMessagesForCurrentConversation() {\r\n  if (currentConversation.value.conversationType === 1) {\r\n    return messageRecordStore.getGroupMessageRecord(currentConversation.value.toId) || [];\r\n  }\r\n  return messageRecordStore.getUserMessageRecord(currentConversation.value.toId) || [];\r\n}\r\n\r\nconst messageList = computed(() => {\r\n  if (!currentConversation.value) {\r\n    return [];\r\n  }\r\n  return fetchMessagesForCurrentConversation();\r\n});\r\nconst innerRef = ref<HTMLDivElement>();\r\nconst scrollbarRef = ref<InstanceType<typeof ElScrollbar>>();\r\nwatch(() => messageList, () => {\r\n  nextTick(() => {\r\n    if (innerRef.value) {\r\n      scrollbarRef.value?.setScrollTop(innerRef.value?.clientHeight);\r\n    }\r\n  });\r\n}, { deep: true });\r\n\r\nonMounted(() => {\r\n  nextTick(() => {\r\n    if (innerRef.value) {\r\n      scrollbarRef.value?.setScrollTop(innerRef.value?.clientHeight);\r\n    }\r\n  });\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(TitleBar)\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (messageList.value.length > 0)\n        ? (_openBlock(), _createBlock(_unref(ElScrollbar), {\n            key: 0,\n            height: \"100%\",\n            ref_key: \"scrollbarRef\",\n            ref: scrollbarRef\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", {\n                ref_key: \"innerRef\",\n                ref: innerRef\n              }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(messageList.value, (message) => {\n                  return (_openBlock(), _createBlock(ChatBubble, {\n                    type: message.isMe ? 'mine' : 'other',\n                    \"conversation-type\": _unref(currentConversation).conversationType,\n                    time: _unref(dayjs)(message.messageTime).format('YYYY-MM-DD HH:mm'),\n                    \"target-id\": _unref(currentConversation).toId,\n                    \"from-id\": message.fromId,\n                    \"message-status\": message.messageStatus,\n                    key: message.messageId\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(message.messageBody), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"type\", \"conversation-type\", \"time\", \"target-id\", \"from-id\", \"message-status\"]))\n                }), 128))\n              ], 512)\n            ]),\n            _: 1\n          }, 512))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createVNode(Footer)\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"styled-conversation\">\r\n    <div style=\"width: 100%\">\r\n      <TitleBar/>\r\n    </div>\r\n    <div style=\"flex: 1; overflow-y: auto\">\r\n      <template v-if=\"messageList.length > 0\">\r\n        <el-scrollbar height=\"100%\" ref=\"scrollbarRef\">\r\n          <div ref=\"innerRef\">\r\n            <chat-bubble\r\n              :type=\"message.isMe ? 'mine' : 'other'\"\r\n              :conversation-type=\"currentConversation.conversationType\"\r\n              :time=\"dayjs(message.messageTime).format('YYYY-MM-DD HH:mm')\"\r\n              :target-id=\"currentConversation.toId\"\r\n              :from-id=\"message.fromId\"\r\n              :message-status=\"message.messageStatus\"\r\n              v-for=\"message in messageList\" :key=\"message.messageId\">\r\n              {{ message.messageBody }}\r\n            </chat-bubble>\r\n          </div>\r\n        </el-scrollbar>\r\n      </template>\r\n    </div>\r\n    <Footer/>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport TitleBar from '@/components/TitleBar/TitleBar.vue';\r\nimport ChatBubble from '@/components/ChatBubble/ChatBubble.vue';\r\nimport Footer from '@/components/Footer/Footer.vue';\r\nimport { useMessageRecordStore } from '@/store/messageRecord';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\nimport { storeToRefs } from 'pinia';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport dayjs from 'dayjs';\r\nimport {\r\n  computed, nextTick, onMounted, ref, watch,\r\n} from 'vue';\r\nimport { ElScrollbar } from 'element-plus';\r\n\r\nconst messageRecordStore = useMessageRecordStore();\r\nconst conversationSetStore = useConversationSetStore();\r\nconst { currentConversation } = storeToRefs(conversationSetStore);\r\n\r\nfunction fetchMessagesForCurrentConversation() {\r\n  if (currentConversation.value.conversationType === 1) {\r\n    return messageRecordStore.getGroupMessageRecord(currentConversation.value.toId) || [];\r\n  }\r\n  return messageRecordStore.getUserMessageRecord(currentConversation.value.toId) || [];\r\n}\r\n\r\nconst messageList = computed(() => {\r\n  if (!currentConversation.value) {\r\n    return [];\r\n  }\r\n  return fetchMessagesForCurrentConversation();\r\n});\r\nconst innerRef = ref<HTMLDivElement>();\r\nconst scrollbarRef = ref<InstanceType<typeof ElScrollbar>>();\r\nwatch(() => messageList, () => {\r\n  nextTick(() => {\r\n    if (innerRef.value) {\r\n      scrollbarRef.value?.setScrollTop(innerRef.value?.clientHeight);\r\n    }\r\n  });\r\n}, { deep: true });\r\n\r\nonMounted(() => {\r\n  nextTick(() => {\r\n    if (innerRef.value) {\r\n      scrollbarRef.value?.setScrollTop(innerRef.value?.clientHeight);\r\n    }\r\n  });\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.styled-conversation {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  border: 1px solid #EFECE8;\r\n\r\n  & > *:last-child {\r\n    align-self: end;\r\n  }\r\n}\r\n\r\n.conversations {\r\n  padding: 10px 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  /* overflow-y: auto; 会在垂直方向上生成一个垂直滚动条，使用户能够滚动查看超出容器高度的内容。滚动条只在内容溢出时显示，否则隐藏。*/\r\n  overflow-y: auto;\r\n  flex: 1;\r\n  /* 每条记录的上下边距为 10 px*/\r\n\r\n  & > * {\r\n    margin: 10px 0;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./ChatMessage.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChatMessage.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ChatMessage.vue?vue&type=style&index=0&id=3fe8d198&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3fe8d198\"]])\n\nexport default __exports__","/**\r\n * 用户信息\r\n */\r\nexport interface UserInfo {\r\n  userId: any,\r\n  appId: any,\r\n  clientType?: any,\r\n  birthDay: any,\r\n  photo?: any,\r\n  userSex: any,\r\n  selfSignature?: any,\r\n  friendAllowType?: any,\r\n  disableAddFriend?: any,\r\n  userType?: any,\r\n  imUserSign?: any,\r\n  userSign?: any,\r\n  nickName?:string,\r\n}\r\n\r\n/**\r\n * 会话信息  未读消息条数\r\n */\r\nexport interface Conversation {\r\n  conversationId: any,\r\n  conversationType: number,\r\n  fromId: any,\r\n  toId: any,\r\n  isMute: any,\r\n  isTop: any,\r\n  sequence: any,\r\n  readedSequence: any,\r\n  appId: any,\r\n  unreadCount: number,\r\n}\r\n\r\nexport type ConversationSet = Conversation[];\r\n\r\n/**\r\n * 消息记录的实体类\r\n */\r\nexport interface MessageRecord {\r\n  messageId: any,\r\n  fromId: any,\r\n  isMe: any,\r\n  toId: any,\r\n  messageBody: any,\r\n  messageTime: any,\r\n  messageKey: any,\r\n  messageSequence?: any,\r\n  clientType: any,\r\n  messageRandom?: any,\r\n  messageType: any,\r\n  // 0 未发送 1 已发送(接收到服务器回复的ack) 2 已送达（在线-回复接收成功ack，不在线服务器代回复ack） 3 已读（接收端已读）\r\n  messageStatus: any,\r\n}\r\n\r\nexport type MessageRecordList = MessageRecord[];\r\n\r\nexport interface MessageRecordMap {\r\n  [key: string]: MessageRecord[]; // 同样，可以指定数组元素的具体类型\r\n}\r\n\r\nexport interface GroupMessageRecord {\r\n  appId?: string;\r\n  messageId: any,\r\n  fromId: any,\r\n  isMe: any,\r\n  toId: any,\r\n  messageBody: any,\r\n  messageTime: any,\r\n  messageKey: any,\r\n  messageSequence?: any,\r\n  clientType: any,\r\n  messageRandom?: any,\r\n  messageType: any,\r\n  // 0 未发送 1 已发送(接收到服务器回复的ack) 2 已送达（在线-回复接收成功ack，不在线服务器代回复ack） 3 已读（接收端已读）\r\n  messageStatus: any,\r\n  memberIds?: string[],\r\n  imei?:string,\r\n}\r\n\r\nexport interface GroupMessageRecordMap {\r\n  [key: string]: GroupMessageRecord[]; // 同样，可以指定数组元素的具体类型\r\n}\r\n\r\n/**\r\n * 好友用户信息\r\n */\r\nexport interface ImUser {\r\n  // 用户id\r\n  userId: string;\r\n  // 用户名称\r\n  nickName: string;\r\n  // 位置\r\n  location?: string;\r\n  // 生日\r\n  birthDay?: string;\r\n  password?: string;\r\n  // 头像\r\n  photo: string;\r\n  // 性别\r\n  userSex: number;\r\n  // 个性签名\r\n  selfSignature?: string;\r\n  // 加好友验证类型（Friend_AllowType） 1需要验证\r\n  friendAllowType?: number;\r\n  // 管理员禁止用户添加加好友：0 未禁用 1 已禁用\r\n  disableAddFriend?: number;\r\n  // 禁用标识(0 未禁用 1 已禁用)\r\n  forbiddenFlag?: number;\r\n  // 禁言标识 0 为禁言 1 为禁言\r\n  silentFlag: number;\r\n  /**\r\n   * 用户类型 1普通用户 2客服 3 机器人\r\n   */\r\n  userType?: number;\r\n  /**\r\n   * appid\r\n   */\r\n  appId: number;\r\n  /**\r\n   * 删除标识 0 未删除 1 已删除\r\n   */\r\n  delFlag: number;\r\n  extra?: string;\r\n}\r\n\r\nexport interface ImFriendShipEntity {\r\n  // 应用ID\r\n  appId?: number;\r\n  // 发起方ID\r\n  fromId?: string;\r\n  // 接收方ID\r\n  toId: string;\r\n  // 备注\r\n  remark?: string;\r\n  // 状态：1正常 2删除\r\n  status?: number;\r\n  // 黑名单状态：1正常 2拉黑\r\n  black?: number;\r\n  // 创建时间\r\n  createTime?: number; // 注意：Java中的Long类型在TS中通常对应number，因为TS运行在JavaScript环境中，没有单独的64位整数类型\r\n  // 好友关系序列号\r\n  friendSequence?: number;\r\n  // 黑名单关系序列号\r\n  blackSequence?: number;\r\n  // 好友来源\r\n  addSource?: string;\r\n  // 扩展信息\r\n  extra?: string;\r\n  // 昵称（数据库不存在的字段）\r\n  nickName?: string;\r\n  // 个性签名\r\n  selfSignature?: string;\r\n\r\n  label?: string;\r\n  // 在线状态\r\n  onlineStatus?: number;\r\n}\r\nexport type ImFriendShipEntityList = ImFriendShipEntity[];\r\n\r\n/**\r\n * 好友请求实体类\r\n */\r\nexport interface ImFriendShipRequest {\r\n  id: number;\r\n  appId: number;\r\n  fromId: string;\r\n  toId: string;\r\n  remark?: string; // 可选字段，表示备注\r\n  readStatus: number;\r\n  addSource?: string; // 可选字段，表示好友来源\r\n  addWording?: string; // 可选字段，自定义添加文字\r\n  approveStatus: number;\r\n  createTime?: number; // 可选字段，创建时间\r\n  updateTime?: number; // 可选字段，更新时间\r\n  sequence: number;\r\n}\r\n\r\nexport type ImFriendShipRequestList = ImFriendShipRequest[];\r\n\r\nexport class GroupMember {\r\n  memberId: string;\r\n\r\n  alias = '';\r\n\r\n  // 0 普通成员, 1 管理员, 2 群主\r\n  speakFlag = '0';\r\n\r\n  // 是否全员禁言，0 不禁言；1 全员禁言。\r\n  speakDate = 0;\r\n\r\n  joinType = 0;\r\n\r\n  // 0 普通成员, 1 管理员, 2 群主\r\n  role = 0;\r\n\r\n  constructor(memberId:string) {\r\n    this.memberId = memberId;\r\n  }\r\n}\r\n\r\nexport interface ImGroupEntity {\r\n  groupId: string;\r\n\r\n  appId: number;\r\n\r\n  ownerId: string;\r\n\r\n  groupType: number;\r\n\r\n  groupName: string;\r\n\r\n  mute: number;\r\n\r\n  applyJoinType: number;\r\n\r\n  privateChat: number;\r\n\r\n  introduction: string;\r\n\r\n  notification: string;\r\n\r\n  photo?: string;\r\n\r\n  status: number;\r\n\r\n  sequence: number;\r\n\r\n  createTime: number;\r\n\r\n  extra: string;\r\n\r\n  memberList:GroupMember[];\r\n}\r\n\r\nexport type ImGroupList = ImGroupEntity[];\r\n\r\nexport interface ClientInfo {\r\n  brokerId: number;\r\n  clientType: string;\r\n  appId: string;\r\n  imei: string;\r\n  connectState: string;\r\n  userId: string;\r\n}\r\n\r\nexport type ClientInfoList = ClientInfo[];\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"flex\"} }\nconst _hoisted_2 = { class: \"sidebar\" }\nconst _hoisted_3 = { class: \"styled-message-list\" }\nconst _hoisted_4 = { class: \"chat-header\" }\nconst _hoisted_5 = { style: {\"height\":\"36px\",\"width\":\"36px\",\"background-color\":\"rgba(24, 28, 47, 0.2)\",\"border-radius\":\"8px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"} }\nconst _hoisted_6 = { class: \"chat-body\" }\nconst _hoisted_7 = { class: \"message-content\" }\nconst _hoisted_8 = { class: \"dialog-footer\" }\n\nimport {\r\n  computed, ref, inject, onMounted,\r\n} from 'vue';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { Plus, Search } from '@element-plus/icons-vue';\r\nimport ConversationCar from '@/components/ConversationCar/ConversationCar.vue';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\nimport { useConcatListStore } from '@/store/contactsList';\r\nimport { storeToRefs } from 'pinia';\r\nimport ChatMessage from '@/components/ChatMessage/ChatMessage.vue';\r\nimport { GroupMember } from '@/types';\r\nimport { ElNotification } from 'element-plus';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ConversationPage',\n  setup(__props) {\n\r\n\r\nconst ImSdk = inject<any>('ImSdk');\r\nconst conversationSetStore = useConversationSetStore();\r\nconst { conversationSet } = storeToRefs(conversationSetStore);\r\nconst concatListStore = useConcatListStore();\r\nconst { friendShipList } = storeToRefs(concatListStore);\r\nconst searchText = ref('');\r\nconst createGroupVisible = ref(false);\r\nconst createGroupClick = () => {\r\n  // 弹出 dialog 显示穿梭框\r\n  createGroupVisible.value = true;\r\n};\r\n\r\nconst friendShipData = computed(() => friendShipList.value.map((item) => ({\r\n  ...item, // 先创建item的一个浅拷贝\r\n  label: item.remark || item.nickName, // 然后修改label属性\r\n})));\r\nconst groupItems = ref<string[]>([]);\r\n\r\nconst filterMethod = (query: any, item: any) => item.label.toLowerCase()\r\n  .includes(query.toLowerCase());\r\n\r\nconst doCreateGroup = () => {\r\n  if (groupItems.value.length === 0) {\r\n    return;\r\n  }\r\n  const memberList: GroupMember[] = [];\r\n  groupItems.value.forEach((item) => {\r\n    memberList.push(new GroupMember(item));\r\n  });\r\n  ImSdk.createGroup(1, '', 0, 0, '群简介', '群公告', '', 100, memberList)\r\n    .then((res: any) => {\r\n      ElNotification({\r\n        title: 'Success',\r\n        message: '创建群组成功!',\r\n        type: 'success',\r\n      });\r\n      createGroupVisible.value = false;\r\n    });\r\n  // 创建群组\r\n  console.log('创建群组', groupItems.value);\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_scrollbar = _resolveComponent(\"el-scrollbar\")!\n  const _component_el_transfer = _resolveComponent(\"el-transfer\")!\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(_component_el_input, {\n              modelValue: searchText.value,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((searchText).value = $event)),\n              style: {\"width\":\"87%\",\"height\":\"40px\",\"border-radius\":\"24px\",\"background-color\":\"rgba(241, 237, 237, 0.3)\"},\n              placeholder: \"搜索\",\n              class: \"input-with-select\"\n            }, {\n              prepend: _withCtx(() => [\n                _createVNode(_component_el_button, { icon: _unref(Search) }, null, 8, [\"icon\"])\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"]),\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createVNode(_component_el_icon, {\n                size: \"26\",\n                onClick: createGroupClick\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(Plus))\n                ]),\n                _: 1\n              })\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(_component_el_scrollbar, {\n              height: \"100%\",\n              style: {\"width\":\"100%\"}\n            }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(conversationSet), (conversation) => {\n                  return (_openBlock(), _createBlock(ConversationCar, {\n                    key: conversation.conversationId,\n                    \"conversation-id\": conversation.conversationId,\n                    \"conversation-type\": conversation.conversationType,\n                    \"target-id\": conversation.toId,\n                    \"unread-count\": conversation.unreadCount\n                  }, null, 8, [\"conversation-id\", \"conversation-type\", \"target-id\", \"unread-count\"]))\n                }), 128))\n              ]),\n              _: 1\n            })\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createVNode(ChatMessage)\n      ])\n    ]),\n    _createVNode(_component_el_dialog, {\n      modelValue: createGroupVisible.value,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((createGroupVisible).value = $event)),\n      title: \"创建群组\",\n      width: \"700px\",\n      center: \"\"\n    }, {\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createVNode(_component_el_button, {\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (createGroupVisible.value = false))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"取消\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: doCreateGroup\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" 创建 \")\n            ]),\n            _: 1\n          })\n        ])\n      ]),\n      default: _withCtx(() => [\n        _createVNode(_component_el_transfer, {\n          modelValue: groupItems.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((groupItems).value = $event)),\n          filterable: \"\",\n          \"filter-method\": filterMethod,\n          \"filter-placeholder\": \"搜索\",\n          data: friendShipData.value,\n          titles: ['好友', '选择联系人'],\n          props: {key: 'toId'}\n        }, null, 8, [\"modelValue\", \"data\"])\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ], 64))\n}\n}\n\n})","<template>\r\n  <div style=\"display: flex\">\r\n    <div class=\"sidebar\">\r\n      <div class=\"styled-message-list\">\r\n        <div class=\"chat-header\">\r\n          <el-input\r\n            v-model=\"searchText\"\r\n            style=\"width: 87%;height: 40px;border-radius:24px;background-color:rgba(241, 237, 237, 0.3)\"\r\n            placeholder=\"搜索\"\r\n            class=\"input-with-select\"\r\n          >\r\n            <template #prepend>\r\n              <el-button :icon=\"Search\"/>\r\n            </template>\r\n          </el-input>\r\n          <div style=\"height: 36px;width: 36px; background-color: rgba(24, 28, 47, 0.2);\r\n      border-radius:8px;display: flex;align-items: center;justify-content: center\">\r\n            <el-icon size=\"26\" @click=\"createGroupClick\">\r\n              <Plus/>\r\n            </el-icon>\r\n          </div>\r\n        </div>\r\n        <div class=\"chat-body\">\r\n          <el-scrollbar height=\"100%\" style=\"width: 100%\">\r\n            <conversation-car v-for=\"conversation in conversationSet\"\r\n                              :key=\"conversation.conversationId\"\r\n                              :conversation-id=\"conversation.conversationId\"\r\n                              :conversation-type=\"conversation.conversationType\"\r\n                              :target-id=\"conversation.toId\"\r\n                              :unread-count=\"conversation.unreadCount\"\r\n            />\r\n          </el-scrollbar>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"message-content\">\r\n      <chat-message/>\r\n    </div>\r\n  </div>\r\n  <el-dialog v-model=\"createGroupVisible\" title=\"创建群组\" width=\"700px\" center>\r\n    <el-transfer\r\n      v-model=\"groupItems\"\r\n      filterable\r\n      :filter-method=\"filterMethod\"\r\n      filter-placeholder=\"搜索\"\r\n      :data=\"friendShipData\"\r\n      :titles=\"['好友', '选择联系人']\"\r\n      :props=\"{key: 'toId'}\"\r\n    />\r\n    <template #footer>\r\n      <div class=\"dialog-footer\">\r\n        <el-button @click=\"createGroupVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"doCreateGroup\">\r\n          创建\r\n        </el-button>\r\n      </div>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n\r\nimport {\r\n  computed, ref, inject, onMounted,\r\n} from 'vue';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { Plus, Search } from '@element-plus/icons-vue';\r\nimport ConversationCar from '@/components/ConversationCar/ConversationCar.vue';\r\nimport { useConversationSetStore } from '@/store/conversationSet';\r\nimport { useConcatListStore } from '@/store/contactsList';\r\nimport { storeToRefs } from 'pinia';\r\nimport ChatMessage from '@/components/ChatMessage/ChatMessage.vue';\r\nimport { GroupMember } from '@/types';\r\nimport { ElNotification } from 'element-plus';\r\n\r\nconst ImSdk = inject<any>('ImSdk');\r\nconst conversationSetStore = useConversationSetStore();\r\nconst { conversationSet } = storeToRefs(conversationSetStore);\r\nconst concatListStore = useConcatListStore();\r\nconst { friendShipList } = storeToRefs(concatListStore);\r\nconst searchText = ref('');\r\nconst createGroupVisible = ref(false);\r\nconst createGroupClick = () => {\r\n  // 弹出 dialog 显示穿梭框\r\n  createGroupVisible.value = true;\r\n};\r\n\r\nconst friendShipData = computed(() => friendShipList.value.map((item) => ({\r\n  ...item, // 先创建item的一个浅拷贝\r\n  label: item.remark || item.nickName, // 然后修改label属性\r\n})));\r\nconst groupItems = ref<string[]>([]);\r\n\r\nconst filterMethod = (query: any, item: any) => item.label.toLowerCase()\r\n  .includes(query.toLowerCase());\r\n\r\nconst doCreateGroup = () => {\r\n  if (groupItems.value.length === 0) {\r\n    return;\r\n  }\r\n  const memberList: GroupMember[] = [];\r\n  groupItems.value.forEach((item) => {\r\n    memberList.push(new GroupMember(item));\r\n  });\r\n  ImSdk.createGroup(1, '', 0, 0, '群简介', '群公告', '', 100, memberList)\r\n    .then((res: any) => {\r\n      ElNotification({\r\n        title: 'Success',\r\n        message: '创建群组成功!',\r\n        type: 'success',\r\n      });\r\n      createGroupVisible.value = false;\r\n    });\r\n  // 创建群组\r\n  console.log('创建群组', groupItems.value);\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n.sidebar {\r\n  max-width: 448px;\r\n  min-width: 344px;\r\n  height: 100%;\r\n  flex: 1;\r\n  background: linear-gradient(119.19deg, #FFFFFF 0%, #F8F8F8 65.34%, #FFFFFF 100%);\r\n}\r\n\r\n.message-content {\r\n  flex: 2;\r\n  position: relative;\r\n  height: 100vh;\r\n}\r\n\r\n.styled-message-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh; /* 设置容器的高度为视口的高度 */\r\n}\r\n\r\n.chat-header {\r\n  flex: 0 0 auto; /* 不伸缩，固定在容器顶部 */\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  margin: 16px 5px 16px 5px;\r\n}\r\n\r\n.chat-body {\r\n  flex: 1 1 auto; /* 伸缩，占据剩余空间 */\r\n  overflow-y: auto; /* 当内容过多时显示滚动条 */\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.el-dialog--center .el-dialog__body {\r\n  text-align: center;\r\n}\r\n\r\n</style>\r\n","import script from \"./ConversationPage.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ConversationPage.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ConversationPage.vue?vue&type=style&index=0&id=36c6d478&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["VideoCameraOutlined","_objectSpread","target","i","arguments","length","source","Object","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","props","context","p","attrs","_createVNode","AntdIcon","VideoCameraOutlinedSvg","displayName","inheritAttrs","WhatsAppOutlined","WhatsAppOutlinedSvg","e","t","module","exports","this","LTS","LT","L","LL","LLL","LLLL","o","n","r","prototype","format","en","formats","$locale","replace","toUpperCase","slice","call","future","past","s","m","mm","h","hh","d","dd","M","MM","y","yy","fromToBase","relativeTime","u","f","a","l","thresholds","c","diff","rounding","Math","round","abs","v","to","from","$u","utc","toNow","fromNow","_createElementBlock","_mergeProps","_ctx","$attrs","class","$setup","styledAvatar","$props","status","_normalizeClass","statusIcon","style","_normalizeStyle","statusIconStyle","_createCommentVNode","_createElementVNode","avatarClipStyle","src","alt","_hoisted_1","type","String","required","size","default","validator","includes","statusIconSize","setup","computed","width","height","borderRadius","overflow","baseStyle","position","left","top","backgroundColor","__exports__","render","dayjs","require","localizedFormat","getTimeDifference","timestamp","now","diffMinutes","diffHours","diffDays","extend","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_defineComponent","__name","conversationId","conversationType","targetId","unreadCount","__props","conversationSetStore","useConversationSetStore","currentConversation","storeToRefs","concatListStore","useConcatListStore","messageRecordStore","useMessageRecordStore","handleClick","setCurrentConversation","resetP2PConversationUnreadCount","sendP2PMessageReadAck","conversationTitle","friendInfo","getFriendShip","remark","nickName","getGroupInfo","groupName","avatarSrc","name","onlineStatus","getOnlineStatus","lastMessage","getLastMessage","_cache","_component_el_text","_resolveComponent","_component_el_icon","_component_el_badge","_component_el_card","_openBlock","_createBlock","shadow","_unref","toId","onClick","_withCtx","Avatar","truncated","_createTextVNode","_toDisplayString","_","messageTime","isMe","Position","messageBody","offset","profileImage","showUserInfoFlag","ref","showUserInfo","_component_el_drawer","_Fragment","EllipsisOutlined","modelValue","$event","title","direction","Profile","time","fromId","messageStatus","_useCssVars","alignSelf","textAlign","fontColor","conversationStore","userInfoStore","useUserInfoStore","getMemberNickName","msgStatus","userInfo","_renderSlot","$slots","ImSdk","inject","inputText","onSearch","console","log","message","createP2PTextMessage","sendP2PMessage","messageRecord","clientType","messageKey","messageId","messageRandom","JSON","parse","content","messageType","addMessageRecord","createGroupTextMessage","sendGroupMessage","addGroupMessageRecord","ElMessage","_component_a_input","bordered","placeholder","onKeyup","_withKeys","suffix","color","Promotion","fetchMessagesForCurrentConversation","getGroupMessageRecord","getUserMessageRecord","messageList","innerRef","scrollbarRef","watch","nextTick","setScrollTop","clientHeight","deep","onMounted","TitleBar","ElScrollbar","ref_key","_renderList","ChatBubble","Footer","GroupMember","constructor","memberId","conversationSet","friendShipList","searchText","createGroupVisible","createGroupClick","friendShipData","map","item","label","groupItems","filterMethod","query","toLowerCase","doCreateGroup","memberList","push","createGroup","then","res","ElNotification","_component_el_button","_component_el_input","_component_el_scrollbar","_component_el_transfer","_component_el_dialog","prepend","icon","Search","Plus","conversation","ConversationCar","ChatMessage","center","footer","filterable","data","titles"],"sourceRoot":""}